
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Releases &#8212; Zipline 3.0 docs</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'releases';</script>
    <link rel="icon" href="_static/zipline.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="API" href="api-reference.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">Zipline 3.0 docs</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="beginner-tutorial.html">
                        Tutorial
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="bundles.html">
                        Data
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="trading-calendars.html">
                        Calendars
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="risk-and-perf-metrics.html">
                        Metrics
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="development-guidelines.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api-reference.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Releases
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://ml4trading.io">
                    ML for Trading
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://exchange.ml4trading.io">
                    Community
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/stefan-jansen/zipline-reloaded" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/ml4trading" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="beginner-tutorial.html">
                        Tutorial
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="bundles.html">
                        Data
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="trading-calendars.html">
                        Calendars
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="risk-and-perf-metrics.html">
                        Metrics
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="development-guidelines.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api-reference.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Releases
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://ml4trading.io">
                    ML for Trading
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://exchange.ml4trading.io">
                    Community
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/stefan-jansen/zipline-reloaded" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/ml4trading" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Releases</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="releases">
<h1>Releases<a class="headerlink" href="#releases" title="Permalink to this heading">#</a></h1>
<section id="release-2-0-0rc">
<h2>Release 2.0.0rc<a class="headerlink" href="#release-2-0-0rc" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>2.0.0rc1</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>April 5, 2021</p>
</dd>
</dl>
<section id="highlights">
<h3>Highlights<a class="headerlink" href="#highlights" title="Permalink to this heading">#</a></h3>
<p>This release updates Zipline to be compatible with Python &gt;= 3.7 as well as the current versions of relevant PyData libraries like Pandas, scikit-learn, and others.</p>
<p><a class="reference external" href="https://anaconda.org/ml4t/repo">Conda packages</a> for <a class="reference external" href="https://anaconda.org/ml4t/zipline-reloaded">Zipline</a> and key dependencies <a class="reference external" href="https://anaconda.org/ml4t/bcolz-zipline">bcolz</a> and <a class="reference external" href="https://anaconda.org/ml4t/ta-lib">TA-Lib</a> are now available for Python 3.7-3.9 on the ‘ml4t’ Anaconda channel. Binary wheels are available on <a class="reference external" href="https://pypi.org/project/zipline-reloaded/">PyPi</a> for Linux ( Python 3.7-3.9) and MacOSx (3.7 and 3.8).</p>
<p>As part of the update, the <code class="docutils literal notranslate"><span class="pre">BlazeLoader</span></code> functionality was removed. It was built on the <a class="reference external" href="https://blaze.pydata.org/">Blaze Ecosystem</a>. Unfortunately, the three relevant projects (<a class="reference external" href="https://blaze.readthedocs.io/en/latest/index.html">Blaze</a>, <a class="reference external" href="https://odo.readthedocs.io/en/latest/">Odo</a> and <a class="reference external" href="https://datashape.readthedocs.io/en/latest/">datashape</a> have received very limited support over the last several years.</p>
<p>Other updates include:</p>
<ul class="simple">
<li><p>A <a class="reference external" href="https://github.com/stefan-jansen/bcolz-zipline">new release</a> for <a class="reference external" href="https://github.com/Blosc/bcolz">Bcolz</a> which has been marked unmaintained since September 2020 by the <a class="reference external" href="https://github.com/Blosc">author</a>. The new release updates the underlying <a class="reference external" href="https://github.com/Blosc/c-blosc">c-blosc</a> library from version 1.14 to the latest 1.21.0. There are also conda packages for Bcolz (see links above).</p></li>
<li><p><a class="reference external" href="https://networkx.org/">Networkx</a> now uses the better performing version 2.0.</p></li>
<li><p>Conda packages for TA-Lib 0.4.19.</p></li>
</ul>
<p>This new release also makes it easier to load custom data sources into a Pipeline (such as the predictions of an ML model) when backtesting. See the relevant examples in the <a class="reference external" href="https://github.com/stefan-jansen/machine-learning-for-trading">Github repo</a> of the book <a class="reference external" href="https://www.amazon.com/Machine-Learning-Algorithmic-Trading-alternative/dp/1839217715/ref=tmm_pap_swatch_0?_encoding=UTF8&amp;qid=1617658040&amp;sr=8-1-spons">Machine Learning for Trading</a>, such as <a class="reference external" href="https://github.com/stefan-jansen/machine-learning-for-trading/tree/master/08_ml4t_workflow/04_ml4t_workflow_with_zipline">these ones</a>.</p>
</section>
<section id="enhancements">
<h3>Enhancements<a class="headerlink" href="#enhancements" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>custom_loader() for custom Pipeline data</p></li>
<li><p>compatibility with the latest versions of Pandas, scikit-learn, and other relevant <a class="reference external" href="https://pydata.org/">PyData</a> libraries.</p></li>
</ul>
</section>
<section id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Numerous tests updates to accommodate recent Python and dependency versions.</p></li>
</ul>
</section>
<section id="performance">
<h3>Performance<a class="headerlink" href="#performance" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Latest blosc library may improve compression and I/O performance</p></li>
</ul>
</section>
<section id="maintenance-and-refactorings">
<h3>Maintenance and Refactorings<a class="headerlink" href="#maintenance-and-refactorings" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Removed Python 2 support</p></li>
</ul>
</section>
<section id="build">
<h3>Build<a class="headerlink" href="#build" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>All builds consolidated on GitHub Actions CI</p></li>
</ul>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Expanded with additional information on Pipeline and related DataLoaders</p></li>
</ul>
</section>
</section>
<section id="release-1-4-1">
<h2>Release 1.4.1<a class="headerlink" href="#release-1-4-1" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.4.1</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>October 5, 2020</p>
</dd>
</dl>
<p>This release includes a small number of bug fixes, documentation improvements,
and build/dependency enhancements.</p>
<p>Conda packages for zipline and its dependencies are now available for python
3.6 on the ‘conda-forge’ Anaconda channel. They’re also available on the
‘Quantopian’ channel, but we’ll stop updating those eventually.</p>
<section id="id2">
<h3>Bug Fixes<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fix for calling <code class="docutils literal notranslate"><span class="pre">run_algorithm</span></code> without <code class="docutils literal notranslate"><span class="pre">benchmark_returns</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2762">2762</a>)</p></li>
</ul>
</section>
<section id="id3">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Support for empyrical 0.5.3 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2526">2526</a>)</p></li>
<li><p>Removed dependence on contextlib2 in py3 environments (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2757">2757</a>)</p></li>
<li><p>Update default bundle to ‘quantopian-quandl’ at more entrypoints (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2763">2763</a>)</p></li>
</ul>
</section>
<section id="id4">
<h3>Build<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>CI with newer statsmodels and scipy (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2739">2739</a>)</p></li>
<li><p>GitHub Actions CI on linux and macos (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2743">2743</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2767">2767</a>)</p></li>
<li><p>Added conda packaging for zipline and its dependencies to conda-forge (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2665">2665</a>)</p></li>
</ul>
</section>
<section id="id5">
<h3>Documentation<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Various documentation improvements (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2763">2763</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2771">2771</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2772">2772</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2776">2776</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2780">2780</a>)</p></li>
</ul>
</section>
</section>
<section id="release-1-4-0">
<h2>Release 1.4.0<a class="headerlink" href="#release-1-4-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.4.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>July 22, 2020</p>
</dd>
</dl>
<section id="id6">
<h3>Highlights<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h3>
<section id="removed-implicit-dependency-on-benchmarks-and-treasury-returns">
<h4>Removed Implicit Dependency on Benchmarks and Treasury Returns<a class="headerlink" href="#removed-implicit-dependency-on-benchmarks-and-treasury-returns" title="Permalink to this heading">#</a></h4>
<p>Previously, Zipline implicitly fetched these required inputs from third party API sources if they were not provided by users: treasury data from the US Federal Reserve’s API, and benchmarks from IEX.
This meant that simulations required an internet connection and stable APIs for these data sources, neither of which were guaranteed for many users.</p>
<p>We removed the dependency on treasury curves, since they weren’t actually being used anymore. And we replaced the implicit downloading of benchmark returns with explicit options:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--benchmark-file                The csv file that contains the benchmark
                                returns (date, returns columns)
--benchmark-symbol              The instrument&#39;s symbol to be used as
                                a benchmark.
                                (should exist in the ingested bundle)
--benchmark-sid                 The sid of the instrument to be used as a
                                benchmark.
                                (should exist in the ingested bundle)
--no-benchmark                  This flag is used to set the benchmark to
                                zero. Alpha, beta and benchmark metrics
                                are not calculated
</pre></div>
</div>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2627">2627</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2642">2642</a>)</p>
</section>
<section id="new-built-in-factors">
<h4>New Built In Factors<a class="headerlink" href="#new-built-in-factors" title="Permalink to this heading">#</a></h4>
<ul class="simple">
<li><p><a class="reference internal" href="api-reference.html#zipline.pipeline.factors.PercentChange" title="zipline.pipeline.factors.PercentChange"><code class="xref py py-class docutils literal notranslate"><span class="pre">PercentChange</span></code></a>: Calculates the percent change over the given <code class="docutils literal notranslate"><span class="pre">window_length</span></code>. Note: Percent change is calculated as <code class="docutils literal notranslate"><span class="pre">(new</span> <span class="pre">-</span> <span class="pre">old)</span> <span class="pre">/</span> <span class="pre">abs(old)</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2506">2506</a>)</p></li>
<li><p><a class="reference internal" href="api-reference.html#zipline.pipeline.factors.PeerCount" title="zipline.pipeline.factors.PeerCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeerCount</span></code></a>: Gives the number of occurrences of each distinct category in a classifier. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2509">2509</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstantMixin</span></code>: A mixin for creating a Pipeline term with a constant value. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2697">2697</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">if_else()</span></code>: Allows users to create expressions that conditionally draw from the outputs of one of two terms. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2697">2697</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fillna()</span></code>: Allows users to fill missing data with either a constant value, or values from another term. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2697">2697</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">clip()</span></code>: Allows users to constrain a factor’s values to a given range. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2708">2708</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">mean()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">stddev()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">max()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">min()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">median()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">sum()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">notnull_count()</span></code>: Summarize data across the entire domain into a scalar factor. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2697">2697</a>)</p></li>
</ul>
</section>
</section>
<section id="id7">
<h3>Enhancements<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added International Pipelines (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2262">2262</a>)</p></li>
<li><p>Added DataSetFamily (née MultiDimensionalDataSet) - a shorthand for creating a collection of regular DataSets that share the same columns. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2402">2402</a>)</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_column()</span></code> for looking up columns by name (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2210">2210</a>)</p></li>
<li><p>Added <code class="xref py py-class docutils literal notranslate"><span class="pre">CheckWindowsClassifier</span></code> that allows us to test lookback windows of categorical and string columns using Pipeline. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2458">2458</a>)</p></li>
<li><p>Added <code class="xref py py-class docutils literal notranslate"><span class="pre">PipelineHooks</span></code> which is now used to display Pipline progress bars (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2467">2467</a>)</p></li>
<li><p><a class="reference internal" href="api-reference.html#zipline.pipeline.data.BoundColumn" title="zipline.pipeline.data.dataset.BoundColumn"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundColumn</span></code></a> comparisons will now result in an error.
This prevents writing <code class="docutils literal notranslate"><span class="pre">EquityPricing.volume</span> <span class="pre">&gt;</span> <span class="pre">1000</span></code> (silently returning bad data) insteads of <code class="docutils literal notranslate"><span class="pre">EquityPricing.volume.latest</span> <span class="pre">&gt;</span> <span class="pre">1000</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2537">2537</a>)</p></li>
<li><p>Added currency conversion support to Pipeline. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2586">2586</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">--benchmark-file</span></code> and <code class="docutils literal notranslate"><span class="pre">--benchmark-symbol</span></code> command line arguments to make it easier to provide benchmark data. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2642">2642</a>)</p></li>
<li><p>Added support for Python 3.6 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2643">2643</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">mask</span></code> argument to Factor.peer_count. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2676">2676</a>)</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">if_else()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">fillna()</span></code> for allowing conditional logic in Pipelines. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2691">2691</a>)</p></li>
<li><p>Added daily summary methods to Factor for collecting summary statistics for the entire universe. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2697">2697</a>)</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">clip()</span></code> method for clipping values to a range. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2708">2708</a>)</p></li>
<li><p>Added support for Pipeline term arithmetic with more than 32 terms. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2727">2727</a>)</p></li>
</ul>
</section>
<section id="id8">
<h3>Bug Fixes<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixed support for non unique sid-&gt;exchange mappings. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2289">2289</a>)</p></li>
<li><p>Fixed crash on dividend warning. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2323">2323</a>)</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">week_start</span></code> when Monday precedes the New Year. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2394">2394</a>)</p></li>
<li><p>Ensured correct dtypes when unpacking empty dataframes. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2444">2444</a>)</p></li>
<li><p>Fixed a bug where a Pipeline term with <code class="docutils literal notranslate"><span class="pre">window_length=0</span></code> would not copy the input before calling <code class="docutils literal notranslate"><span class="pre">compute()</span></code> which could cause incorrect results if the input was reused in the Pipeline. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2723">2723</a>)</p></li>
</ul>
</section>
<section id="id9">
<h3>Performance<a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added <code class="xref py py-class docutils literal notranslate"><span class="pre">HDF5DailyBarWriter</span></code>, which writes daily pricing in a new format as an HDF5 file. Each OHLCV field is stored as a 2D array in a chunked HDF5 dataset, with a row per sid and a column per day. The file also supports multiple countries. Added <code class="xref py py-class docutils literal notranslate"><span class="pre">HDF5DailyBarReader</span></code>, which implements the BarReader interface and can read files written by HDF5DailyBarWriter. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2295">2295</a>)</p></li>
<li><p>Vectorized dividend ratio calculation (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2298">2298</a>)</p></li>
<li><p>Improved performance of the <a class="reference internal" href="api-reference.html#zipline.pipeline.factors.RollingPearson" title="zipline.pipeline.factors.RollingPearson"><code class="xref py py-class docutils literal notranslate"><span class="pre">RollingPearson</span></code></a> and
<a class="reference internal" href="api-reference.html#zipline.pipeline.factors.RollingPearsonOfReturns" title="zipline.pipeline.factors.RollingPearsonOfReturns"><code class="xref py py-class docutils literal notranslate"><span class="pre">RollingPearsonOfReturns</span></code></a> pipeline factors. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2071">2071</a>)</p></li>
</ul>
</section>
<section id="id10">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Made <code class="xref py py-func docutils literal notranslate"><span class="pre">parameter_space()</span></code> reset instance fixtures between runs (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2433">2433</a>)</p></li>
<li><p>Removed unused treasury curves data handling. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2626">2626</a>)</p></li>
</ul>
</section>
<section id="miscellaneous">
<h3>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this heading">#</a></h3>
<section id="international-pipelines">
<h4>International Pipelines<a class="headerlink" href="#international-pipelines" title="Permalink to this heading">#</a></h4>
<p>Pipeline now supports international data.</p>
<p>Pipeline is a tool that allows you to define computations over a universe of assets and a period of time.
In the past, you could only run pipelines on the US equity market.
Now, you can now specify a domain over which a pipeline should be computed.
The name “domain” refers to the mathematical concept of the “domain of a function”, which is the set of potential inputs to a function.
In the context of Pipeline, the domain specifies the set of assets and a corresponding trading calendar over which the expressions of a pipeline should be computed.</p>
<p>For example, the following pipeline returns the latest close price and volume for all Canadian equities, every day.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pipe</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="n">EquityPricing</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">latest</span><span class="p">,</span>
        <span class="s1">&#39;volume&#39;</span><span class="p">:</span> <span class="n">EquityPricing</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">latest</span><span class="p">,</span>
        <span class="s1">&#39;mcap&#39;</span><span class="p">:</span> <span class="n">factset</span><span class="o">.</span><span class="n">Fundamentals</span><span class="o">.</span><span class="n">mkt_val</span><span class="o">.</span><span class="n">latest</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">domain</span><span class="o">=</span><span class="n">CA_EQUITIES</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Another challenge related to currencies is the fact that some exchanges don’t require stocks to be listed in local currency.
For example, the London Stock Exchange only has about 75% of its listings denominated in GBP*.
The other 25% are primarily listed in EUR or USD. This can make it hard to make cross sectional comparisons.</p>
<p>To solve this problem, most people rely on currency conversions to bring price-based fields into the same currency.
Pipeline columns now support an <code class="docutils literal notranslate"><span class="pre">fx</span></code> method for specifying what currency the data should be viewed as.
This method is only available on terms which are “currency-aware”, for example open or close, but not on terms that do not care about currency like volume.</p>
<p>Currently, there is no way to load international data into a bundle.
We are working on ways to make it easy to get international data into Zipline.</p>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2265">2265</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2262">2262</a>, and many others)</p>
<p>The domains that Zipline currently supports for running pipelines (using the latest <a class="reference external" href="https://pypi.org/project/trading-calendars/">trading-calendars</a> package) are the following:</p>
<ul class="simple">
<li><p>Argentina</p></li>
<li><p>Australia</p></li>
<li><p>Austria</p></li>
<li><p>Belgium</p></li>
<li><p>Brazil</p></li>
<li><p>Canada</p></li>
<li><p>Chile</p></li>
<li><p>China</p></li>
<li><p>Czech Republic</p></li>
<li><p>Colombia</p></li>
<li><p>Czechia</p></li>
<li><p>Finland</p></li>
<li><p>France</p></li>
<li><p>Germany</p></li>
<li><p>Greece</p></li>
<li><p>Hong Kong</p></li>
<li><p>Hungary</p></li>
<li><p>India</p></li>
<li><p>Indonesia</p></li>
<li><p>Ireland</p></li>
<li><p>Italy</p></li>
<li><p>Japan</p></li>
<li><p>Malaysia</p></li>
<li><p>Mexico</p></li>
<li><p>Netherlands</p></li>
<li><p>New Zealand</p></li>
<li><p>Norway</p></li>
<li><p>Pakistan</p></li>
<li><p>Peru</p></li>
<li><p>Philippines</p></li>
<li><p>Poland</p></li>
<li><p>Portugal</p></li>
<li><p>Russia</p></li>
<li><p>Singapore</p></li>
<li><p>Spain</p></li>
<li><p>Sweden</p></li>
<li><p>Taiwan</p></li>
<li><p>Thailand</p></li>
<li><p>Turkey</p></li>
<li><p>United Kingdom</p></li>
<li><p>United States</p></li>
<li><p>South Africa</p></li>
<li><p>South Korea</p></li>
<li><p>Switzerland</p></li>
</ul>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2301">2301</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2333">2333</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2338">2338</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2355">2355</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2369">2369</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2550">2550</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2552">2552</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2559">2559</a>)</p>
</section>
<section id="datasetfamily">
<h4>DataSetFamily<a class="headerlink" href="#datasetfamily" title="Permalink to this heading">#</a></h4>
<blockquote>
<div><p>Dataset families are used to represent data where the unique identifier for
a row requires more than just asset and date coordinates. A
<a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSetFamily" title="zipline.pipeline.data.DataSetFamily"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSetFamily</span></code></a> can also be thought of as a collection of
<a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSet" title="zipline.pipeline.data.DataSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code></a> objects, each of which has the same
columns, domain, and ndim.</p>
<p><a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSetFamily" title="zipline.pipeline.data.DataSetFamily"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSetFamily</span></code></a> objects are defined with one or more
<a class="reference internal" href="api-reference.html#zipline.pipeline.data.Column" title="zipline.pipeline.data.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects, plus one additional field:
<code class="docutils literal notranslate"><span class="pre">extra_dims</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">extra_dims</span></code> field defines coordinates other than asset and date that
must be fixed to produce a logical timeseries. The column objects determine
columns that will be shared by slices of the family.</p>
<p><code class="docutils literal notranslate"><span class="pre">extra_dims</span></code> are represented as an ordered dictionary where the keys are
the dimension name, and the values are a set of unique values along that
dimension.</p>
<p>To work with a <a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSetFamily" title="zipline.pipeline.data.DataSetFamily"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSetFamily</span></code></a> in a pipeline expression, one must
choose a specific value for each of the extra dimensions using the
<a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSetFamily.slice" title="zipline.pipeline.data.DataSetFamily.slice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">slice()</span></code></a> method.
For example, given a <a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSetFamily" title="zipline.pipeline.data.DataSetFamily"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSetFamily</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomeDataSet</span><span class="p">(</span><span class="n">DataSetFamily</span><span class="p">):</span>
    <span class="n">extra_dims</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;dimension_0&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">}),</span>
        <span class="p">(</span><span class="s1">&#39;dimension_1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">}),</span>
    <span class="p">]</span>

    <span class="n">column_0</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">column_1</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
<p>This dataset might represent a table with the following columns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sid</span> <span class="p">::</span> <span class="n">int64</span>
<span class="n">asof_date</span> <span class="p">::</span> <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
<span class="n">timestamp</span> <span class="p">::</span> <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
<span class="n">dimension_0</span> <span class="p">::</span> <span class="nb">str</span>
<span class="n">dimension_1</span> <span class="p">::</span> <span class="nb">str</span>
<span class="n">column_0</span> <span class="p">::</span> <span class="n">float64</span>
<span class="n">column_1</span> <span class="p">::</span> <span class="nb">bool</span>
</pre></div>
</div>
<p>Here we see the implicit <code class="docutils literal notranslate"><span class="pre">sid</span></code>, <code class="docutils literal notranslate"><span class="pre">asof_date</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> columns
as well as the extra dimensions columns.</p>
<p>This <a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSetFamily" title="zipline.pipeline.data.DataSetFamily"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSetFamily</span></code></a> can be converted to a regular <a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSet" title="zipline.pipeline.data.DataSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code></a>
with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DataSetSlice</span> <span class="o">=</span> <span class="n">SomeDataSet</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">dimension_0</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">dimension_1</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This sliced dataset represents the rows from the higher dimensional dataset
where <code class="docutils literal notranslate"><span class="pre">(dimension_0</span> <span class="pre">==</span> <span class="pre">'a')</span> <span class="pre">&amp;</span> <span class="pre">(dimension_1</span> <span class="pre">==</span> <span class="pre">'e')</span></code>.</p>
</div></blockquote>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2402">2402</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2452">2452</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2456">2456</a>)</p>
</section>
</section>
</section>
<section id="release-1-3-0">
<h2>Release 1.3.0<a class="headerlink" href="#release-1-3-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.3.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>July 16, 2018</p>
</dd>
</dl>
<p>This release includes several enhancements and performance improvements along
with a small number of bug fixes. We recommend that all users upgrade to this
version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will likely be the last minor release in the Zipline 1.x series. The
release next will be Zipline 2.0, which will include a number of small
breaking changes required to support international equities.</p>
</div>
<section id="id11">
<h3>Highlights<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h3>
<section id="support-for-newer-numpy-pandas-versions">
<h4>Support for Newer Numpy/Pandas Versions<a class="headerlink" href="#support-for-newer-numpy-pandas-versions" title="Permalink to this heading">#</a></h4>
<p>Zipline has historically been very conservative when updating versions of
numpy, pandas, and other “PyData” ecosystem packages. This conservatism is
primarily due to the fact that Zipline is used as the backtesting engine for
<a class="reference external" href="https://www.quantopian.com/">Quantopian</a>, which means that updating package
versions risks breaking a large installed codebase. Of course, many Zipline
users don’t have the backwards compatibility requirements that Quantopian has,
and they’d like to be able to use the latest and greatest package versions.</p>
<p>As part of this release, we’re now building and testing Zipline with two
package configurations:</p>
<ul class="simple">
<li><p>“Stable”, using numpy version 1.11 and pandas version 0.18.1.</p></li>
<li><p>“Latest”, using numpy version 1.14 and pandas version 0.22.0.</p></li>
</ul>
<p>Other combinations of numpy and pandas <strong>may</strong> work, but these package sets
will be built and tested during our normal development cycle.</p>
<p>Moving forward, our goal is to continue to maintain support for two sets of
packages at any given time. The “stable” package set will change relatively
infrequently, and will contain the versions of numpy and pandas supported on
Quantopian. The “latest” package set will change regularly, and will contain
recently-released versions of numpy and pandas.</p>
<p>Our hope with these changes is to strike a balance between stability and
novelty without taking on too great a maintenance burden by supporting every
possible combination of packages. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2194">2194</a>)</p>
</section>
<section id="standalone-trading-calendars-module">
<h4>Standalone <code class="docutils literal notranslate"><span class="pre">trading_calendars</span></code> Module<a class="headerlink" href="#standalone-trading-calendars-module" title="Permalink to this heading">#</a></h4>
<p>One of the most popular features of Zipline is its collection of trading
calendars, which provide information about holidays and trading hours of
various markets. As part of this release, Zipline’s calendar-related
functionality has been moved to a separate <a class="reference external" href="https://pypi.org/project/trading-calendars/">trading-calendars</a> package,
allowing users that only needed access to the calendars to use them without
taking on the rest of Zipline’s dependencies.</p>
<p>For backwards compability, Zipline will continue to re-export calendar-related
functions. For example, <code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.get_calendar()</span></code> still exists, but is now
an alias for <code class="docutils literal notranslate"><span class="pre">trading_calendars.get_calendar</span></code>. Users that depend on this
functionality are encouraged to update their imports to the new locations in
<code class="docutils literal notranslate"><span class="pre">trading_calendars</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2219">2219</a>)</p>
</section>
<section id="custom-blotters">
<h4>Custom Blotters<a class="headerlink" href="#custom-blotters" title="Permalink to this heading">#</a></h4>
<p>This release adds experimental support for running Zipline with user-defined
subclasses of <a class="reference internal" href="api-reference.html#zipline.finance.blotter.blotter.Blotter" title="zipline.finance.blotter.blotter.Blotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blotter</span></code></a>. The primary
motivation for this change is to make it easier to run live algorithms from the
Zipline CLI.</p>
<p>There are two primary ways to configure a custom blotter:</p>
<ol class="arabic simple">
<li><p>You can pass an instance of <a class="reference internal" href="api-reference.html#zipline.finance.blotter.blotter.Blotter" title="zipline.finance.blotter.blotter.Blotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blotter</span></code></a> as the
<code class="docutils literal notranslate"><span class="pre">blotter</span></code> parameter to <a class="reference internal" href="api-reference.html#zipline.run_algorithm" title="zipline.run_algorithm"><code class="xref py py-func docutils literal notranslate"><span class="pre">zipline.run_algorithm()</span></code></a>. (This functionality
had existed previously, but wasn’t well-documented.)</p></li>
<li><p>You can register a named <strong>factory</strong> for a blotter in your <code class="docutils literal notranslate"><span class="pre">extension.py</span></code>
and pass the name on the command line via the <code class="docutils literal notranslate"><span class="pre">--blotter</span></code> flag.</p></li>
</ol>
<p>An example usage of <strong>(2)</strong> might look like this:</p>
<div class="literal-block-wrapper docutils container" id="zipline-extension-py">
<div class="code-block-caption"><span class="caption-text">~/.zipline/extension.py</span><a class="headerlink" href="#zipline-extension-py" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zipline.extensions</span> <span class="kn">import</span> <span class="n">register</span>
<span class="kn">from</span> <span class="nn">zipline.finance.blotter</span> <span class="kn">import</span> <span class="n">Blotter</span><span class="p">,</span> <span class="n">SimulationBlotter</span>
<span class="kn">from</span> <span class="nn">zipline.finance.cancel_policy</span> <span class="kn">import</span> <span class="n">EODCancel</span>

<span class="nd">@register</span><span class="p">(</span><span class="n">Blotter</span><span class="p">,</span> <span class="s1">&#39;my-blotter&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_blotter</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a SimulationBlotter with a non-default cancel policy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SimulationBlotter</span><span class="p">(</span><span class="n">cancel_policy</span><span class="o">=</span><span class="n">EODCancel</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>To use this factory when running zipline from the command line, we would invoke
zipline like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>$ zipline run --blotter my-blotter &lt;...other-args...&gt;
</pre></div>
</div>
<p>As part of this change, the <a class="reference internal" href="api-reference.html#zipline.finance.blotter.blotter.Blotter" title="zipline.finance.blotter.blotter.Blotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blotter</span></code></a>
class has been converted to an abstract base class. The default blotter used in
simulations is now named <a class="reference internal" href="api-reference.html#zipline.finance.blotter.SimulationBlotter" title="zipline.finance.blotter.SimulationBlotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.finance.blotter.SimulationBlotter</span></code></a>.</p>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2210">2210</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2251">2251</a>)</p>
</section>
<section id="custom-command-line-arguments">
<h4>Custom Command-Line Arguments<a class="headerlink" href="#custom-command-line-arguments" title="Permalink to this heading">#</a></h4>
<p>This release adds support for passing custom arguments to the <code class="docutils literal notranslate"><span class="pre">zipline</span></code>
command-line interface. Custom command-line arguments are passed via the <code class="docutils literal notranslate"><span class="pre">-x</span></code>
flag followed by a <code class="docutils literal notranslate"><span class="pre">key=value</span></code> pair. Arguments passed this way can be
accessed from Python code (e.g., an algorithm or an extension) via attributes
of <code class="docutils literal notranslate"><span class="pre">zipline.extension_args</span></code>. For example, if zipline is invoked like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>$ zipline -x argle=bargle run ...
</pre></div>
</div>
<p>then the result of <code class="docutils literal notranslate"><span class="pre">zipline.extension_args.argle</span></code> would be the string
<code class="docutils literal notranslate"><span class="pre">&quot;bargle&quot;</span></code>.</p>
<p>Custom arguments can be grouped into namespaces by including <code class="docutils literal notranslate"><span class="pre">.</span></code> characters
in keys. For example, if zipline is invoked like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>$ zipline -x argle.bargle=foo
</pre></div>
</div>
<p>then <code class="docutils literal notranslate"><span class="pre">zipline.extension_args.argle</span></code> will contain an object with a <code class="docutils literal notranslate"><span class="pre">bargle</span></code>
attribute containing the string <code class="docutils literal notranslate"><span class="pre">&quot;foo&quot;</span></code>. Keys can contain multiple dots to
create nested namespaces. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2210">2210</a>)</p>
</section>
</section>
<section id="id12">
<h3>Enhancements<a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added support for pandas 0.22 and numpy 1.14. See above for
details. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2194">2194</a>)</p></li>
<li><p>Moved <code class="docutils literal notranslate"><span class="pre">zipline.utils.calendars</span></code> into a separately-installable
<a class="reference external" href="https://pypi.org/project/trading-calendars/">trading-calendars</a> package. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2219">2219</a>)</p></li>
<li><p>Added support for specifying custom string arguments with the <code class="docutils literal notranslate"><span class="pre">-x</span></code> flag.
See above for details. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2210">2210</a>)</p></li>
</ul>
</section>
<section id="experimental-features">
<h3>Experimental Features<a class="headerlink" href="#experimental-features" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental features are subject to change.</p>
</div>
<ul class="simple">
<li><p>Added support for registering custom subclass of
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.finance.blotter.Blotter</span></code>. See above for
details. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2210">2210</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2251">2251</a>)</p></li>
</ul>
</section>
<section id="id13">
<h3>Bug Fixes<a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixed a bug in <a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.winsorize" title="zipline.pipeline.Factor.winsorize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.winsorize()</span></code></a> where NaN values
were incorrectly included in value counts when determining cutoff thresholds
for winsorization. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2138">2138</a>)</p></li>
<li><p>Fixed a crash in <a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.top" title="zipline.pipeline.Factor.top"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.top()</span></code></a> with a count of 1 and no
groupby. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2218">2218</a>)</p></li>
<li><p>Fixed a bug where calling <code class="docutils literal notranslate"><span class="pre">data.history</span></code> with a negative lookback would
fetch prices from the future. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2164">2164</a>)</p></li>
<li><p>Fixed a bug where <code class="xref py py-class docutils literal notranslate"><span class="pre">StopOrder`</span></code>,
<a class="reference internal" href="api-reference.html#zipline.finance.execution.LimitOrder" title="zipline.finance.execution.LimitOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.finance.execution.LimitOrder</span></code></a>, and
<a class="reference internal" href="api-reference.html#zipline.finance.execution.StopLimitOrder" title="zipline.finance.execution.StopLimitOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.finance.execution.StopLimitOrder</span></code></a> prices were being rounded
to the nearest penny regardless of asset tick size. Prices are now rounded
based on the <code class="docutils literal notranslate"><span class="pre">tick_size</span></code> attribute of the asset being
ordered. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2211">2211</a>)</p></li>
</ul>
</section>
<section id="id14">
<h3>Performance<a class="headerlink" href="#id14" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Improved performance when fetching minutely prices for assets that trade
regularly. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2108">2108</a>)</p></li>
<li><p>Improved performance when fetching minutely prices for many assets by tuning
cache sizes. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2110">2110</a>)</p></li>
</ul>
</section>
<section id="id15">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id15" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Refactored large parts of the Zipline test suite to make it easier to change
the signature of <code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.algorithm.TradingAlgorithm</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2169">2169</a>,
<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2168">2168</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2165">2165</a>, <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2171">2171</a>)</p></li>
</ul>
</section>
<section id="id16">
<h3>Build<a class="headerlink" href="#id16" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added support for running travis builds with pandas 0.18 and 0.22.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2194">2194</a>)</p></li>
<li><p>Added OSX builds to the travis build matrix. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2244">2244</a>)</p></li>
</ul>
</section>
</section>
<section id="release-1-2-0">
<h2>Release 1.2.0<a class="headerlink" href="#release-1-2-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.2.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>April 4, 2018</p>
</dd>
</dl>
<section id="id18">
<h3>Highlights<a class="headerlink" href="#id18" title="Permalink to this heading">#</a></h3>
<section id="extensible-risk-and-performance-metrics-2081">
<h4>Extensible Risk and Performance Metrics (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2081">2081</a>)<a class="headerlink" href="#extensible-risk-and-performance-metrics-2081" title="Permalink to this heading">#</a></h4>
<p>The risk and performance metrics are summarizing values calculated by Zipline
when running a simulation, for example: returns or Sharpe ratio. 1.1.2
introduces a new API for registering custom risk and performance metrics defined
by the user. We have also made it possible to run a backtest without computing
any metrics to improve the feedback cycle when debugging an algorithm.</p>
<p>For more information, see <a class="reference internal" href="risk-and-perf-metrics.html#metrics"><span class="std std-ref">Metrics</span></a>.</p>
</section>
<section id="docs-trading-calendars-and-benchmarks">
<h4>Docs, Trading Calendars, and Benchmarks<a class="headerlink" href="#docs-trading-calendars-and-benchmarks" title="Permalink to this heading">#</a></h4>
<p>Zipline now defaults to using the <code class="docutils literal notranslate"><span class="pre">quandl</span></code> bundle, which you’ll need an API Key for, and can find information about in the Data Bundles documentation.</p>
<p>We’ve added many Tutorial &amp; Documentations updates, including information on how to create your own <code class="docutils literal notranslate"><span class="pre">TradingCalendar</span></code>, pass it to your algorithm via the Zipline CLI, and how to use custom csv data using the <code class="docutils literal notranslate"><span class="pre">csvdir</span></code> bundle.</p>
<p>Zipline is no longer being tested and packaged for Python 3.4.</p>
<p>Zipline now requests data for SPY, the default benchmark used for Zipline backtests, using the <a class="reference external" href="https://iextrading.com">IEX Trading</a> API, and no longer uses <code class="docutils literal notranslate"><span class="pre">pandas-datareader</span></code>. You can run a backtest up to 5 years from the current day using this data.</p>
</section>
</section>
<section id="id19">
<h3>Enhancements<a class="headerlink" href="#id19" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Grow minute file cache to 1550 by default (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1906">1906</a>)</p></li>
<li><p>Change default commission to .001 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1946">1946</a>)</p></li>
<li><p>Enable the ability to compute multiple pipelines (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1974">1974</a>)</p></li>
<li><p>Allow users to switch between calendars (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1800">1800</a>)</p></li>
<li><p>New filter <code class="docutils literal notranslate"><span class="pre">NoMissingValues</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1969">1969</a>)</p></li>
<li><p>Fail better on <code class="docutils literal notranslate"><span class="pre">AssetFinder(nonexistent_path)</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2000">2000</a>)</p></li>
<li><p>Implement csvdir bundle (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1860">1860</a>)</p></li>
<li><p>Update quandl_bundle to use Quandl API v3 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1990">1990</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">FixedBasisPointsSlippage</span></code> slippage model (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2047">2047</a>)</p></li>
<li><p>Create MinLeverage control (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2064">2064</a>)</p></li>
</ul>
</section>
<section id="id20">
<h3>Experimental Features<a class="headerlink" href="#id20" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental features are subject to change.</p>
</div>
<p>None</p>
</section>
<section id="id21">
<h3>Bug Fixes<a class="headerlink" href="#id21" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">history</span></code> calls with a frequency of <code class="docutils literal notranslate"><span class="pre">1d</span></code> now work when using a Panel as the minute data source. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1920">1920</a>)</p></li>
<li><p>Check contract exists when using futures daily bar reader (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1892">1892</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NoDataBeforeDate</span></code> edge cases (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1894">1894</a>)</p></li>
<li><p>Fix frame column validation in Python 2.7.5 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1954">1954</a>)</p></li>
<li><p>Fix daily history for minute panel data backtest (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1920">1920</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_last_traded_dt</span></code> expects a trading day (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2087">2087</a>)</p></li>
<li><p>Daily Adjustment perspective fix (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2089">2089</a>)</p></li>
</ul>
</section>
<section id="id22">
<h3>Performance<a class="headerlink" href="#id22" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Change algorithm account validation from happening every minute in <code class="docutils literal notranslate"><span class="pre">handle_data</span></code> to only occurring once at the end of each day (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1884">1884</a>)</p></li>
<li><p>Blaze core loader performance improvements (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1866">1866</a>)</p></li>
<li><p>Add a new factor that just computes beta (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2021">2021</a>)</p></li>
<li><p>Reduces memory footprint of Quandl WIKI Prices bundle (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2053">2053</a>)</p></li>
</ul>
</section>
<section id="id23">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id23" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">CachedObject.expired()</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1881">1881</a>)</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">RollingLinearRegressionOfReturns</span></code> factor to be window_safe (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1902">1902</a>)</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">RSI</span></code> factor to be window_safe (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1904">1904</a>)</p></li>
<li><p>Updates for better docs generation (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1890">1890</a>)</p></li>
<li><p>Remove and zero out unused treasury curves (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1910">1910</a>)</p></li>
<li><p>Networkx 2 changes the behavior of out_degree (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1996">1996</a>)</p></li>
<li><p>Pass calendars to <code class="docutils literal notranslate"><span class="pre">DataPortal</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2026">2026</a>)</p></li>
<li><p>Remove old Yahoo code (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2032">2032</a>)</p></li>
<li><p>Sync and fill benchmarks through latest trading day (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2044">2044</a>)</p></li>
<li><p>Provides better error message when QUANDL_API_KEY is missing (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2078">2078</a>)</p></li>
<li><p>Improve the error message for misaligned dates in Pipeline engine (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2131">2131</a>)</p></li>
</ul>
</section>
<section id="id24">
<h3>Build<a class="headerlink" href="#id24" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Update the conda tools we’re using to fix our packaging (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1942">1942</a>)</p></li>
<li><p>Upgrade empyrical to 0.3.2 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1983">1983</a>)</p></li>
<li><p>Update conda tooling and remove Python 3.4 builds (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2009">2009</a>)</p></li>
<li><p>Upgrade empyrical to 0.3.3 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2014">2014</a>)</p></li>
<li><p>Upgrade empyrical to 0.3.4 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2098">2098</a>)</p></li>
<li><p>Upgrade empyrical to 0.4.2 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2125">2125</a>)</p></li>
</ul>
</section>
<section id="id25">
<h3>Documentation<a class="headerlink" href="#id25" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Include <code class="docutils literal notranslate"><span class="pre">MACDSignal</span></code> in zipline.io documentation (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1828">1828</a>)</p></li>
<li><p>Remove mentions of Yahoo from the Beginner Tutorial (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1845">1845</a>)</p></li>
<li><p>Add contributing &amp; questions section to the README (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1889">1889</a>)</p></li>
<li><p>Add info about using a conda envs for installs (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1922">1922</a>)</p></li>
<li><p>Fix Beginner Tutorial link (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1932">1932</a>)</p></li>
<li><p>Add clean docs (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1943">1943</a>)</p></li>
<li><p>Add distinct warnings for benchmark and treasury fetchers (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1971">1971</a>)</p></li>
<li><p>Add CONTRIBUTING.rst (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2033">2033</a>)</p></li>
<li><p>Add tutorial on creating a custom <code class="docutils literal notranslate"><span class="pre">TradingCalendar</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2035">2035</a>)</p></li>
<li><p>Docs &amp; tutorial updates for ingesting, beginners, and csvdir (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2073">2073</a>)</p></li>
<li><p>Documented the new risk and performance metrics API (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2081">2081</a>).</p></li>
<li><p>Fixed a typo in the description of <code class="docutils literal notranslate"><span class="pre">--bundle-timestamp</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/2123">2123</a>)</p></li>
</ul>
</section>
<section id="id26">
<h3>Miscellaneous<a class="headerlink" href="#id26" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
</section>
<section id="release-1-1-1">
<h2>Release 1.1.1<a class="headerlink" href="#release-1-1-1" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.1.1</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>July 5, 2017</p>
</dd>
</dl>
<section id="id27">
<h3>Highlights<a class="headerlink" href="#id27" title="Permalink to this heading">#</a></h3>
<p>Zipline now has broad support for futures, in addition to equities. It’s also being tested and packaged for Python 3.5.</p>
<p>We also saw breaking changes occur from Yahoo changing their API endpoint, thus preventing users from downloading benchmark data needed for backtests. Since that change, we have swapped out Yahoo-related benchmarking code with references to Google Finance and have removed all deprecated Yahoo code, including the usage of custom Yahoo bundles.</p>
</section>
<section id="id28">
<h3>Enhancements<a class="headerlink" href="#id28" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds a property for BarData to know about current session’s minutes (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1713">1713</a>)</p></li>
<li><p>Adds a better error message for non-existent root symbols (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1715:">1715:</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">StaticSids</span></code> Pipeline Filter (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1717">1717</a>)</p></li>
<li><p>Allows <code class="docutils literal notranslate"><span class="pre">zipline.data.data_portal.DataPortal.get_spot_value</span></code> to accept multiple assets (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1719">1719</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">ContinuousFuture</span></code> to <code class="docutils literal notranslate"><span class="pre">lookup_generic</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1718">1718</a>)</p></li>
<li><p>Adds CFE Adhoc Holidays to <code class="docutils literal notranslate"><span class="pre">exchange_calendar_cfe</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1698">1698</a>)</p></li>
<li><p>Allows overriding of order amount rounding (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1722">1722</a>)</p></li>
<li><p>Makes continuous future adjustment style an argument (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1726">1726</a>)</p></li>
<li><p>Adds preliminary support for Futures slippage and commission models (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1738">1738</a>)</p></li>
<li><p>Fix a bug in cost basis calculation and change all mentions of <code class="docutils literal notranslate"><span class="pre">sid</span></code> to <code class="docutils literal notranslate"><span class="pre">asset</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1757">1757</a>)</p></li>
<li><p>Add slippage and commission models for futures (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1748">1748</a>)</p></li>
<li><p>Use Python 3.5 in our Dockerfile (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1806">1806</a>)</p></li>
<li><p>Allow pipelines to be run in chunks (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1811">1811</a>)</p></li>
<li><p>Adds <cite>get_range</cite> to <cite>BenchmarkSource</cite> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1815">1815</a>)</p></li>
<li><p>Adds support for relabeling classifiers in Pipeline (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1833">1833</a>)</p></li>
</ul>
</section>
<section id="id29">
<h3>Experimental Features<a class="headerlink" href="#id29" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental features are subject to change.</p>
</div>
<p>None</p>
</section>
<section id="id30">
<h3>Bug Fixes<a class="headerlink" href="#id30" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixes a floating point division issue in <code class="docutils literal notranslate"><span class="pre">zipline.data.minute_bars</span></code> by using integer divison instead (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1683">1683</a>)</p></li>
<li><p>Sorts data in <code class="docutils literal notranslate"><span class="pre">zipline.pipeline.loaders.blaze.core</span></code> on <code class="docutils literal notranslate"><span class="pre">asof_date</span></code> to resolve timestamp conflicts (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1710">1710</a>)</p></li>
<li><p>Swapped out Yahoo for Google Finance benchmark data (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1812">1812</a>)</p></li>
<li><p>Gold and silver futures contracts only traded during certain months (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1779">1779</a>)</p></li>
<li><p>Fixes bug in TradingCalendar initialization when we use tzaware datetimes (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1802">1802</a>)</p></li>
<li><p>Fixes precision issues on futures prices when rounding (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1788">1788</a>)</p></li>
</ul>
</section>
<section id="id31">
<h3>Performance<a class="headerlink" href="#id31" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Avoid repeated recursive calls when getting forward-filled close price (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1735">1735</a>)</p></li>
</ul>
</section>
<section id="id32">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id32" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds linter recommendations to adjustments module (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1712">1712</a>)</p></li>
<li><p>Clears up naming and logic in resample close (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1728">1728</a>)</p></li>
<li><p>Use March quarterly cycle for several continuous futures (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1762">1762</a>)</p></li>
<li><p>Use better repr for Transaction objects (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1746">1746</a>)</p></li>
<li><p>Shorten repr for Asset objects (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1786">1786</a>)</p></li>
<li><p>Removes usage of empyrical’s information ratio (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1854">1854</a>)</p></li>
</ul>
</section>
<section id="id33">
<h3>Build<a class="headerlink" href="#id33" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds Python 3.5 packages (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1701">1701</a>)</p></li>
<li><p>Swap conda-build arguments so we don’t build packages on every CI build (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1813">1813</a>)</p></li>
</ul>
</section>
<section id="id34">
<h3>Documentation<a class="headerlink" href="#id34" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds Zipline Development Guidelines, for people to read about how to contribute to zipline (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1820">1820</a>)</p></li>
<li><p>Show exchange as required for equities (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1731">1731</a>)</p></li>
<li><p>Updates the Zipline Beginner Tutorial notebook (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1707">1707</a>)</p></li>
<li><p>Includes PipelineEngine, pipeline Term, Factors, and other pipeline things to docs (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1826">1826</a>)</p></li>
</ul>
</section>
<section id="id35">
<h3>Miscellaneous<a class="headerlink" href="#id35" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Use csv market data with <code class="docutils literal notranslate"><span class="pre">run_algorithm</span></code> so we don’t try to download data for tests (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1793">1793</a>)</p></li>
<li><p>Updates Dockerfile to use Python 3.5</p></li>
</ul>
</section>
</section>
<section id="release-1-1-0">
<h2>Release 1.1.0<a class="headerlink" href="#release-1-1-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.1.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>March 10, 2017</p>
</dd>
</dl>
<p>This release is meant to provide zipline support for pandas 0.18, as well as several bug fixes, API changes, and many
performance changes.</p>
<section id="id36">
<h3>Enhancements<a class="headerlink" href="#id36" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Makes the minute bar read catch NoDataOnDate exceptions if dates are not in the calendar.
Before, the minute bar reader was forward filling, but now it returns nan for OHLC and 0 for V. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1488">1488</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">truncate</span></code> method to <code class="xref py py-class docutils literal notranslate"><span class="pre">BcolzMinuteBarWriter</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1499">1499</a>)</p></li>
<li><p>Bumps up to pandas 0.18.1 and numpy 1.11.1 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1339">1339</a>)</p></li>
<li><p>Adds an earnings estimates quarter loader for Pipeline (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1396">1396</a>)</p></li>
<li><p>Creates a restricted list manager that takes in information about restricted sids
and stores in memory upon instantiation (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1487">1487</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">last_available{session,</span> <span class="pre">minute}</span></code> args to <code class="docutils literal notranslate"><span class="pre">DataPortal</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1528">1528</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">SpecificAssets</span></code> filter (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1530">1530</a>)</p></li>
<li><p>Adds the ability for an algorithm to request the current contract for a future chain (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1529">1529</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">chain</span></code> field to current and supporting methods
in <code class="xref py py-class docutils literal notranslate"><span class="pre">DataPortal</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedContracts</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1538">1538</a>)</p></li>
<li><p>Adds history for continuous futures (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1539">1539</a>)</p></li>
<li><p>Adds adjusted history for continuous future (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1548">1548</a>)</p></li>
<li><p>Adds roll style which takes the volume of a future contract into account,
specifically for continuous futures (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1556">1556</a>)</p></li>
<li><p>Adds better error message when calling Zipline API functions outside of a running simulation (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1593">1593</a>)</p></li>
<li><p>Adds
<code class="xref py py-meth docutils literal notranslate"><span class="pre">MACDSignal()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">MovingAverageConvergenceDivergenceSignal()</span></code>, and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">AnnualizedVolatility()</span></code> as built-in factors.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1588">1588</a>)</p></li>
<li><p>Allows running pipelines with custom date chunks in <code class="docutils literal notranslate"><span class="pre">attach_pipeline</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1617">1617</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">order_batch</span></code> to the trade blotter (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1596">1596</a>)</p></li>
<li><p>Adds vectorized lookup_symbol (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1627">1627</a>)</p></li>
<li><p>Solidifies equality comparisons for SlippageModel classes (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1657">1657</a>)</p></li>
<li><p>Adds a factor for winsorized results (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1696">1696</a>)</p></li>
</ul>
</section>
<section id="id37">
<h3>Bug Fixes<a class="headerlink" href="#id37" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Changes str to string_types to avoid errors when type checking unicode and not str type. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1315">1315</a>)</p></li>
<li><p>Algorithms default to quantopian-quandl bundle when no data source is specified (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1479">1479</a>) (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1374">1374</a>)</p></li>
<li><p>Catches all missing data exceptions when computing dividend ratios (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1507">1507</a>)</p></li>
<li><p>Creates adjustments based on ordered assets instead of a set. Before, adjustments were created for estimates
based on where assets happened to fall in a set rather than using ordered assets (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1547">1547</a>)</p></li>
<li><p>Fixes blaze pipeline queries for when users query for the <code class="docutils literal notranslate"><span class="pre">asof_date</span></code> column (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1608">1608</a>)</p></li>
<li><p>Datetimes should be converted in utc. DataFrames being returned were creating US/Eastern timestamps out of the ints,
potentially changing the date returned to be the date before (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1635">1635</a>)</p></li>
<li><p>Fixes default inputs for <code class="xref py py-class docutils literal notranslate"><span class="pre">IchimokuKinkoHyo</span></code> factor (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1638">1638</a>)</p></li>
</ul>
</section>
<section id="id38">
<h3>Performance<a class="headerlink" href="#id38" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Removes invocations of <code class="docutils literal notranslate"><span class="pre">get_calendar('NYSE')</span></code> which cuts down zipline import time
and makes the CLI more responsive and use less memory. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1471">1471</a>)</p></li>
<li><p>Refcounts and releases pipeline terms when they are no longer needed (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1484">1484</a>)</p></li>
<li><p>Saves up to 75% of calls to minute_to_session_label (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1492">1492</a>)</p></li>
<li><p>Speeds up counting of number of minutes across contiguous session (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1497">1497</a>)</p></li>
<li><p>Removes/defers calls to get_loc on large indices (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1504">1504</a>) (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1503">1503</a>)</p></li>
<li><p>Replaces <code class="docutils literal notranslate"><span class="pre">get_loc</span></code> calls in <code class="docutils literal notranslate"><span class="pre">calc_dividend_ratios</span></code> with <code class="docutils literal notranslate"><span class="pre">get_indexer</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1510">1510</a>)</p></li>
<li><p>Speeds up minute to session sampling (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1549">1549</a>)</p></li>
<li><p>Adds some micro optimizations in <code class="docutils literal notranslate"><span class="pre">data.current</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1561">1561</a>)</p></li>
<li><p>Adds optimization for initial workspace for pipelines (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1521">1521</a>)</p></li>
<li><p>More memory savings (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1599">1599</a>)</p></li>
</ul>
</section>
<section id="id39">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id39" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Updates leveraged ETF list (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/747">747</a>) (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1434">1434</a>)</p></li>
<li><p>Adds additional fields to <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> for Order class (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1483">1483</a>)</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">BarReader</span></code> base class for minute and session readers (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1486">1486</a>)</p></li>
<li><p>Removes <code class="docutils literal notranslate"><span class="pre">future_chain</span></code> API method, to be replaced by <code class="docutils literal notranslate"><span class="pre">data.current_chain</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1502">1502</a>)</p></li>
<li><p>Puts zipline back on blaze master (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1505">1505</a>)</p></li>
<li><p>Adds Tini and sets version range for numpy, pandas, and scipy in Dockerfile (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1514">1514</a>)</p></li>
<li><p>Deprecates <code class="docutils literal notranslate"><span class="pre">set_do_not_order_list</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1487">1487</a>)</p></li>
<li><p>Uses <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> instead of <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1487">1487</a>)</p></li>
<li><p>Update and pin more dev requirements (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1642">1642</a>)</p></li>
</ul>
</section>
<section id="id40">
<h3>Build<a class="headerlink" href="#id40" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds binary dependency on numpy for empyrical</p></li>
<li><p>Removes old numpy/pandas versions from Travis (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1339">1339</a>)</p></li>
<li><p>Updates appveyor.yml for new numpy and pandas (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1339">1339</a>)</p></li>
<li><p>Downgrades to scipy 0.17 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1339">1339</a>)</p></li>
<li><p>Bumps empyrical to 0.2.2</p></li>
</ul>
</section>
<section id="id41">
<h3>Documentation<a class="headerlink" href="#id41" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Updated example notebook for latest zipline cell magic</p></li>
<li><p>Adds ANACONDA_TOKEN directions (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1589">1589</a>)</p></li>
</ul>
</section>
<section id="id42">
<h3>Miscellaneous<a class="headerlink" href="#id42" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Changed the short-opt for <code class="docutils literal notranslate"><span class="pre">--before</span></code> in the <code class="docutils literal notranslate"><span class="pre">zipline</span> <span class="pre">clean</span></code>
entrypoint. The new argument is <code class="docutils literal notranslate"><span class="pre">-e</span></code>. The old argument, <code class="docutils literal notranslate"><span class="pre">-b</span></code>, conflicted
with the <code class="docutils literal notranslate"><span class="pre">--bundle</span></code> short-opt (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1625">1625</a>).</p></li>
</ul>
</section>
</section>
<section id="release-1-0-2">
<h2>Release 1.0.2<a class="headerlink" href="#release-1-0-2" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.0.2</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>September 8, 2016</p>
</dd>
</dl>
<section id="id43">
<h3>Enhancements<a class="headerlink" href="#id43" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds forward fill checkpoint tables for the blaze core loader. This allow the
loader to more efficiently forward fill the data by capping the lower date it
must search for when querying data. The checkpoints should have novel deltas
applied (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1276">1276</a>).</p></li>
<li><p>Updated VagrantFile to include all dev requirements and use a newer image
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1310">1310</a>).</p></li>
<li><p>Allow correlations and regressions to be computed between two 2D factors by
doing computations asset-wise (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1307">1307</a>).</p></li>
<li><p>Filters have been made window_safe by default. Now they can be passed in as
arguments to other Filters, Factors and Classifiers (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1338">1338</a>).</p></li>
<li><p>Added an optional <code class="docutils literal notranslate"><span class="pre">groupby</span></code> parameter to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">rank()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">top()</span></code>, and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">bottom()</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1349">1349</a>).</p></li>
<li><p>Added new pipeline filters, <a class="reference internal" href="api-reference.html#zipline.pipeline.filters.All" title="zipline.pipeline.filters.All"><code class="xref py py-class docutils literal notranslate"><span class="pre">All</span></code></a> and
<a class="reference internal" href="api-reference.html#zipline.pipeline.filters.Any" title="zipline.pipeline.filters.Any"><code class="xref py py-class docutils literal notranslate"><span class="pre">Any</span></code></a>, which takes another filter and
returns True if an asset produced a True for any/all days in the previous
<code class="docutils literal notranslate"><span class="pre">window_length</span></code> days (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1358">1358</a>).</p></li>
<li><p>Added new pipeline filter <a class="reference internal" href="api-reference.html#zipline.pipeline.filters.AtLeastN" title="zipline.pipeline.filters.AtLeastN"><code class="xref py py-class docutils literal notranslate"><span class="pre">AtLeastN</span></code></a>,
which takes another filter and an int N and returns True if an asset
produced a True on N or more days in the previous <code class="docutils literal notranslate"><span class="pre">window_length</span></code>
days (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1367">1367</a>).</p></li>
<li><p>Use external library empyrical for risk calculations. Empyrical unifies risk
metric calculations between pyfolio and zipline. Empyrical adds custom
annualization options for returns of custom frequencies. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/855">855</a>)</p></li>
<li><p>Add Aroon factor. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1258">1258</a>)</p></li>
<li><p>Add fast stochastic oscillator factor. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1255">1255</a>)</p></li>
<li><p>Add a Dockerfile. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1254">1254</a>)</p></li>
<li><p>New trading calendar which supports sessions which span across midnights, e.g.
24 hour 6:01PM-6:00PM sessions for futures trading.
<cite>zipline.utils.tradingcalendar</cite> is now deprecated. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1138">1138</a>) (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1312">1312</a>)</p></li>
<li><p>Allow slicing a single column out of a Factor/Filter/Classifier. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1267">1267</a>)</p></li>
<li><p>Provide Ichimoku Cloud factor (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1263">1263</a>)</p></li>
<li><p>Allow default parameters on Pipeline terms. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1263">1263</a>)</p></li>
<li><p>Provide rate of change percentage factor. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1324">1324</a>)</p></li>
<li><p>Provide linear weighted moving average factor. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1325">1325</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">NotNullFilter</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1345">1345</a>)</p></li>
<li><p>Allow capital changes to be defined by a target value. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1337">1337</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TrueRange</span></code> factor. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1348">1348</a>)</p></li>
<li><p>Add point in time lookups to <code class="docutils literal notranslate"><span class="pre">assets.db</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1361">1361</a>)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">can_trade</span></code> aware of the asset’s exchange . (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1346">1346</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">downsample</span></code> method to all computable terms. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1394">1394</a>)</p></li>
<li><p>Add <cite>QuantopianUSFuturesCalendar</cite>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1414">1414</a>)</p></li>
<li><p>Enable publishing of old <code class="docutils literal notranslate"><span class="pre">assets.db</span></code> versions. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1430">1430</a>)</p></li>
<li><p>Enable <code class="docutils literal notranslate"><span class="pre">schedule_function</span></code> for Futures trading calendar. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1442">1442</a>)</p></li>
<li><p>Disallow regressions of length 1. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1466">1466</a>)</p></li>
</ul>
</section>
<section id="experimental">
<h3>Experimental<a class="headerlink" href="#experimental" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Add support for comingled Future and Equity history windows, and enable other
Future data access via data portal. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1435">1435</a>) (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1432">1432</a>)</p></li>
</ul>
</section>
<section id="id44">
<h3>Bug Fixes<a class="headerlink" href="#id44" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Changes <a class="reference internal" href="api-reference.html#zipline.pipeline.factors.AverageDollarVolume" title="zipline.pipeline.factors.AverageDollarVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">AverageDollarVolume</span></code></a> built-in
factor to treat missing close or volume values as 0. Previously, NaNs were
simply discarded before averaging, giving the remaining values too much
weight (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1309">1309</a>).</p></li>
<li><p>Remove risk-free rate from sharpe ratio calculation. The ratio is now the
average of risk adjusted returns over violatility of adjusted
returns. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/853">853</a>)</p></li>
<li><p>Sortino ratio will return calculation instead of np.nan when required returns
are equal to zero. The ratio now returns the average of risk adjusted returns
over downside risk. Fixed mislabeled API by converting <cite>mar</cite> to
<cite>downside_risk</cite>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/747">747</a>)</p></li>
<li><p>Downside risk now returns the square root of the mean of downside
difference squares. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/747">747</a>)</p></li>
<li><p>Information ratio updated to return mean of risk adjusted returns over
standard deviation of risk adjusted returns. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1322">1322</a>)</p></li>
<li><p>Alpha and sharpe ratio are now annualized. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1322">1322</a>)</p></li>
<li><p>Fix units during reading and writing of daily bar <code class="docutils literal notranslate"><span class="pre">first_trading_day</span></code>
attribute. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1245">1245</a>)</p></li>
<li><p>Optional dispatch modules, when missing, no longer cause a <cite>NameError</cite>.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1246">1246</a>)</p></li>
<li><p>Treat <code class="docutils literal notranslate"><span class="pre">schedule_function</span></code> argument as a time rule when a time rule, but no
date rule is supplied. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1221">1221</a>)</p></li>
<li><p>Protect against boundary conditions at beginning and end trading day in
schedule function. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1226">1226</a>)</p></li>
<li><p>Apply adjustments to previous day when using history with a frequency of <cite>1d</cite>.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1256">1256</a>)</p></li>
<li><p>Fail fast on invalid pipeline columns, instead of attempting to access the nonexistent column.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1280">1280</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">AverageDollarVolume</span></code> NaN handling. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1309">1309</a>)</p></li>
</ul>
</section>
<section id="id45">
<h3>Performance<a class="headerlink" href="#id45" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Performance improvements to blaze core loader. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1227">1227</a>)</p></li>
<li><p>Allow concurrent blaze queries. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1323">1323</a>)</p></li>
<li><p>Prevent missing leading bcolz minute data from doing repeated unnecessary lookups. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1451">1451</a>)</p></li>
<li><p>Cache future chain lookups. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1455">1455</a>)</p></li>
</ul>
</section>
<section id="id46">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id46" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Removed remaining mentions of <code class="docutils literal notranslate"><span class="pre">add_history</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1287">1287</a>)</p></li>
</ul>
</section>
<section id="id47">
<h3>Documentation<a class="headerlink" href="#id47" title="Permalink to this heading">#</a></h3>
</section>
<section id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Add test fixture which sources daily pricing data from minute pricing data
fixtures. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1243">1243</a>)</p></li>
</ul>
</section>
<section id="data-format-changes">
<h3>Data Format Changes<a class="headerlink" href="#data-format-changes" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BcolzDailyBarReader</span></code> and <code class="docutils literal notranslate"><span class="pre">BcolzDailyBarWriter</span></code> use trading calendar instance,
instead of trading days serialized to <code class="docutils literal notranslate"><span class="pre">JSON</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1330">1330</a>)</p></li>
<li><p>Change format of <code class="docutils literal notranslate"><span class="pre">assets.db</span></code> to support point in time lookups. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1361">1361</a>)</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">BcolzMinuteBarReader``and</span> <span class="pre">``BcolzMinuteBarWriter</span></code> to support varying tick sizes. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1428">1428</a>)</p></li>
</ul>
</section>
</section>
<section id="release-1-0-1">
<h2>Release 1.0.1<a class="headerlink" href="#release-1-0-1" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.0.1</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>May 27, 2016</p>
</dd>
</dl>
<p>This is a minor bug-fix release from 1.0.0 and includes a small number of bug
fixes and documentation improvements.</p>
<section id="id48">
<h3>Enhancements<a class="headerlink" href="#id48" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added support for user-defined commission models. See the
<a class="reference internal" href="api-reference.html#zipline.finance.commission.CommissionModel" title="zipline.finance.commission.CommissionModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.finance.commission.CommissionModel</span></code></a> class for more details on
implementing a commision model. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1213">1213</a>)</p></li>
<li><p>Added support for non-float columns to Blaze-backed Pipeline
datasets (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1201">1201</a>).</p></li>
<li><p>Added <code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.slice.Slice</span></code>, a new pipeline term designed to
extract a single column from another term. Slices can be created by indexing
into a term, keyed by asset. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1267">1267</a>)</p></li>
</ul>
</section>
<section id="id49">
<h3>Bug Fixes<a class="headerlink" href="#id49" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>Fixed a bug where Pipeline loaders were not properly initialized by
<a class="reference internal" href="api-reference.html#zipline.run_algorithm" title="zipline.run_algorithm"><code class="xref py py-func docutils literal notranslate"><span class="pre">zipline.run_algorithm()</span></code></a>.  This also affected invocations of <code class="docutils literal notranslate"><span class="pre">zipline</span>
<span class="pre">run</span></code> from the CLI.</p></li>
<li><p>Fixed a bug that caused the <code class="docutils literal notranslate"><span class="pre">%%zipline</span></code> IPython cell magic to fail
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/commit/533233fae43c7ff74abfb0044f046978817cb4e4">533233fae43c7ff74abfb0044f046978817cb4e4</a>).</p></li>
<li><p>Fixed a bug in the <a class="reference internal" href="api-reference.html#zipline.finance.commission.PerTrade" title="zipline.finance.commission.PerTrade"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerTrade</span></code></a> commission
model where commissions were incorrectly applied to each partial-fill of an
order rather than on the order itself, resulting in algorithms being charged
too much in commissions when placing large orders.</p>
<p><a class="reference internal" href="api-reference.html#zipline.finance.commission.PerTrade" title="zipline.finance.commission.PerTrade"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerTrade</span></code></a> now correctly applies
commissions on a per-order basis (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1213">1213</a>).</p>
</li>
<li><p>Attribute accesses on <a class="reference internal" href="api-reference.html#zipline.pipeline.CustomFactor" title="zipline.pipeline.CustomFactor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomFactors</span></code></a>
defining multiple outputs will now correctly return an output slice when the
output is also the name of a <code class="xref py py-class docutils literal notranslate"><span class="pre">Factor</span></code> method
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1214">1214</a>).</p></li>
<li><p>Replaced deprecated usage of <code class="docutils literal notranslate"><span class="pre">pandas.io.data</span></code> with <code class="docutils literal notranslate"><span class="pre">pandas_datareader</span></code>
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1218">1218</a>).</p></li>
<li><p>Fixed an issue where <code class="docutils literal notranslate"><span class="pre">.pyi</span></code> stub files for <code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.api</span></code> were
accidentally excluded from the PyPI source distribution.  Conda users should
be unaffected (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1230">1230</a>).</p></li>
</ul>
</section>
<section id="id50">
<h3>Documentation<a class="headerlink" href="#id50" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added a new example, <code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.examples.momentum_pipeline</span></code>, which
exercises the Pipeline API (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1230">1230</a>).</p></li>
</ul>
</section>
</section>
<section id="release-1-0-0">
<h2>Release 1.0.0<a class="headerlink" href="#release-1-0-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.0.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>May 19, 2016</p>
</dd>
</dl>
<section id="id51">
<h3>Highlights<a class="headerlink" href="#id51" title="Permalink to this heading">#</a></h3>
<section id="zipline-1-0-rewrite-1105">
<h4>Zipline 1.0 Rewrite (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1105">1105</a>)<a class="headerlink" href="#zipline-1-0-rewrite-1105" title="Permalink to this heading">#</a></h4>
<p>We have rewritten a lot of Zipline and its basic concepts in order to improve
runtime performance. At the same time, we’ve introduced several new APIs.</p>
<p>At a high level, earlier versions of Zipline simulations pulled from a
multiplexed stream of data sources, which were merged via heapq. This stream was
fed to the main simulation loop, driving the clock forward. This strong
dependency on reading all the data made it difficult to optimize simulation
performance because there was no connection between the amount of data we
fetched and the amount of data actually used by the algorithm.</p>
<p>Now, we only fetch data when the algorithm needs it. A new class,
<a class="reference internal" href="api-reference.html#zipline.data.data_portal.DataPortal" title="zipline.data.data_portal.DataPortal"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataPortal</span></code></a>, dispatches data requests to
various data sources and returns the requested values. This makes the runtime of
a simulation scale much more closely with the complexity of the algorithm,
rather than with the number of assets provided by the data sources.</p>
<p>Instead of the data stream driving the clock, now simulations iterate through a
pre-calculated set of day or minute timestamps. The timestamps are emitted by
<code class="xref py py-class docutils literal notranslate"><span class="pre">MinuteSimulationClock</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">DailySimulationClock</span></code>, and consumed by the main
loop in <code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code>.</p>
<p>We’ve retired the <code class="docutils literal notranslate"><span class="pre">data[sid(N)]</span></code> and <code class="docutils literal notranslate"><span class="pre">history</span></code> APIs, replacing them with
several methods on the <a class="reference internal" href="api-reference.html#zipline.protocol.BarData" title="zipline.protocol.BarData"><code class="xref py py-class docutils literal notranslate"><span class="pre">BarData</span></code></a> object:
<a class="reference internal" href="api-reference.html#zipline.protocol.BarData.current" title="zipline.protocol.BarData.current"><code class="xref py py-meth docutils literal notranslate"><span class="pre">current()</span></code></a>,
<a class="reference internal" href="api-reference.html#zipline.protocol.BarData.history" title="zipline.protocol.BarData.history"><code class="xref py py-meth docutils literal notranslate"><span class="pre">history()</span></code></a>,
<a class="reference internal" href="api-reference.html#zipline.protocol.BarData.can_trade" title="zipline.protocol.BarData.can_trade"><code class="xref py py-meth docutils literal notranslate"><span class="pre">can_trade()</span></code></a>, and
<a class="reference internal" href="api-reference.html#zipline.protocol.BarData.is_stale" title="zipline.protocol.BarData.is_stale"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_stale()</span></code></a>. Old APIs will continue to work for
now, but will issue deprecation warnings.</p>
<p>You can now pass in an adjustments source to the
<a class="reference internal" href="api-reference.html#zipline.data.data_portal.DataPortal" title="zipline.data.data_portal.DataPortal"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataPortal</span></code></a>, and we will apply adjustments to
the pricing data when looking backwards at data. Prices and volumes for
execution and presented to the algorithm in data.current are the as-traded value
of the asset.</p>
</section>
<section id="new-entry-points-1173-and-1178">
<h4>New Entry Points (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1173">1173</a> and <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1178">1178</a>)<a class="headerlink" href="#new-entry-points-1173-and-1178" title="Permalink to this heading">#</a></h4>
<p>In order to make it easier to use zipline we have updated the entry points for
a backtest. The three supported ways to run a backtest are now:</p>
<ol class="arabic simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">zipline.run_algo()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">zipline</span> <span class="pre">run</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%zipline</span></code> (IPython magic)</p></li>
</ol>
</section>
<section id="data-bundles-1173-and-1178">
<h4>Data Bundles (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1173">1173</a> and <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1178">1178</a>)<a class="headerlink" href="#data-bundles-1173-and-1178" title="Permalink to this heading">#</a></h4>
<p>1.0.0 introduces data bundles. Data bundles are groups of data that should be
preloaded and used to run backtests later. This allows users to not need to
specify which tickers they are interested in each time they run an
algorithm. This also allows us to cache the data between runs.</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">quantopian-quandl</span></code> bundle will be used which pulls data from
Quantopian’s mirror of the quandl <a class="reference external" href="https://www.quandl.com/data/WIKI">WIKI dataset</a>. New bundles may be registered with
<a class="reference internal" href="api-reference.html#zipline.data.bundles.register" title="zipline.data.bundles.register"><code class="xref py py-func docutils literal notranslate"><span class="pre">zipline.data.bundles.register()</span></code></a> like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@zipline</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">bundles</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;my-new-bundle&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_new_bundle_ingest</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span>
                         <span class="n">asset_db_writer</span><span class="p">,</span>
                         <span class="n">minute_bar_writer</span><span class="p">,</span>
                         <span class="n">daily_bar_writer</span><span class="p">,</span>
                         <span class="n">adjustment_writer</span><span class="p">,</span>
                         <span class="n">calendar</span><span class="p">,</span>
                         <span class="n">cache</span><span class="p">,</span>
                         <span class="n">show_progress</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This function should retrieve the data it needs and then use the writers that
have been passed to write that data to disc in a location that zipline can find
later.</p>
<p>This data can be used in backtests by passing the name as the <code class="docutils literal notranslate"><span class="pre">-b</span> <span class="pre">/</span> <span class="pre">--bundle</span></code>
argument to <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">zipline</span> <span class="pre">run</span></code> or as the <code class="docutils literal notranslate"><span class="pre">bundle</span></code> argument to
<a class="reference internal" href="api-reference.html#zipline.run_algorithm" title="zipline.run_algorithm"><code class="xref py py-func docutils literal notranslate"><span class="pre">zipline.run_algorithm()</span></code></a>.</p>
<p>For more information see <a class="reference internal" href="bundles.html#data-bundles"><span class="std std-ref">Data</span></a> for more information.</p>
</section>
<section id="string-support-in-pipeline-1174">
<h4>String Support in Pipeline (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1174">1174</a>)<a class="headerlink" href="#string-support-in-pipeline-1174" title="Permalink to this heading">#</a></h4>
<p>Added support for string data in Pipeline.
<a class="reference internal" href="api-reference.html#zipline.pipeline.data.Column" title="zipline.pipeline.data.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.data.Column</span></code></a> now accepts <code class="docutils literal notranslate"><span class="pre">object</span></code> as a dtype, which
signifies that loaders for that column should emit windowed iterators over the
experimental new <code class="xref py py-class docutils literal notranslate"><span class="pre">LabelArray</span></code> class.</p>
<p>Several new <code class="xref py py-class docutils literal notranslate"><span class="pre">Classifier</span></code> methods have also been added
for constructing <a class="reference internal" href="api-reference.html#zipline.pipeline.Filter" title="zipline.pipeline.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filter</span></code></a> instances based on string
operations.  The new methods are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">element_of()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">startswith()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">endswith()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_substring()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">matches()</span></code></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">element_of</span></code> is defined for all classifiers.  The remaining methods are
only defined for string-dtype classifiers.</p>
</div></blockquote>
</section>
</section>
<section id="id52">
<h3>Enhancements<a class="headerlink" href="#id52" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>Made the data loading classes have more consistent interfaces. This includes
the equity bar writers, adjustment writer, and asset db writer. The new
interface is that the resource to be written to is passed at construction time
and the data to write is provided later to the <cite>write</cite> method as
dataframes or some iterator of dataframes. This model allows us to pass these
writer objects around as a resource for other classes and functions to
consume (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1109">1109</a> and <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1149">1149</a>).</p></li>
<li><p>Added masking to <a class="reference internal" href="api-reference.html#zipline.pipeline.CustomFactor" title="zipline.pipeline.CustomFactor"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.CustomFactor</span></code></a>.
Custom factors can now be passed a Filter upon instantiation. This tells the
factor to only compute over stocks for which the filter returns True, rather
than always computing over the entire universe of stocks. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1095">1095</a>)</p></li>
<li><p>Added <a class="reference internal" href="api-reference.html#zipline.utils.cache.ExpiringCache" title="zipline.utils.cache.ExpiringCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.utils.cache.ExpiringCache</span></code></a>.
A cache which wraps entries in a <a class="reference internal" href="api-reference.html#zipline.utils.cache.CachedObject" title="zipline.utils.cache.CachedObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.utils.cache.CachedObject</span></code></a>,
which manages expiration of entries based on the <cite>dt</cite> supplied to the <cite>get</cite>
method. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1130">1130</a>)</p></li>
<li><p>Implemented <code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.RecarrayField</span></code>, a new pipeline
term designed to be the output type of a CustomFactor with multiple outputs.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1119">1119</a>)</p></li>
<li><p>Added optional <cite>outputs</cite> parameter to <a class="reference internal" href="api-reference.html#zipline.pipeline.CustomFactor" title="zipline.pipeline.CustomFactor"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.CustomFactor</span></code></a>.
Custom factors are now capable of computing and returning multiple outputs,
each of which are themselves a Factor. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1119">1119</a>)</p></li>
<li><p>Added support for string-dtype pipeline columns. Loaders for thse columns
should produce instances of <code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.lib.labelarray.LabelArray</span></code> when
traversed. <a class="reference internal" href="api-reference.html#zipline.pipeline.data.BoundColumn.latest" title="zipline.pipeline.data.BoundColumn.latest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">latest()</span></code></a> on string
columns produces a string-dtype
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.Classifier</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1174">1174</a>)</p></li>
<li><p>Added several methods for converting Classifiers into Filters.</p>
<p>The new methods are:
- <code class="xref py py-meth docutils literal notranslate"><span class="pre">element_of()</span></code>
- <code class="xref py py-meth docutils literal notranslate"><span class="pre">startswith()</span></code>
- <code class="xref py py-meth docutils literal notranslate"><span class="pre">endswith()</span></code>
- <code class="xref py py-meth docutils literal notranslate"><span class="pre">has_substring()</span></code>
- <code class="xref py py-meth docutils literal notranslate"><span class="pre">matches()</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">element_of</span></code> is defined for all classifiers.  The remaining methods are
only defined for strings. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1174">1174</a>)</p>
</li>
<li><p>Added <a class="reference internal" href="api-reference.html#zipline.pipeline.factors.BollingerBands" title="zipline.pipeline.factors.BollingerBands"><code class="xref py py-class docutils literal notranslate"><span class="pre">BollingerBands</span></code></a> factor. This factor
implements the Bollinger Bands technical indicator:
<a class="reference external" href="https://en.wikipedia.org/wiki/Bollinger_Bands">https://en.wikipedia.org/wiki/Bollinger_Bands</a> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1199">1199</a>).</p></li>
<li><p>Fetcher has been moved from Quantopian internal code into Zipline
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1105">1105</a>).</p></li>
<li><p>Added new built-in factors,
<a class="reference internal" href="api-reference.html#zipline.pipeline.factors.RollingPearsonOfReturns" title="zipline.pipeline.factors.RollingPearsonOfReturns"><code class="xref py py-class docutils literal notranslate"><span class="pre">RollingPearsonOfReturns</span></code></a>,
<a class="reference internal" href="api-reference.html#zipline.pipeline.factors.RollingSpearmanOfReturns" title="zipline.pipeline.factors.RollingSpearmanOfReturns"><code class="xref py py-class docutils literal notranslate"><span class="pre">RollingSpearmanOfReturns</span></code></a> and
<a class="reference internal" href="api-reference.html#zipline.pipeline.factors.RollingLinearRegressionOfReturns" title="zipline.pipeline.factors.RollingLinearRegressionOfReturns"><code class="xref py py-class docutils literal notranslate"><span class="pre">RollingLinearRegressionOfReturns</span></code></a>
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1154">1154</a>)</p></li>
</ul>
</section>
<section id="id53">
<h3>Experimental Features<a class="headerlink" href="#id53" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental features are subject to change.</p>
</div>
<ul class="simple">
<li><p>Added a new <code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.lib.labelarray.LabelArray</span></code> class for efficiently
representing and computing on string data with numpy.  This class is
conceptually similar to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Categorical.html#pandas.Categorical" title="(in pandas v2.0.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Categorical</span></code></a>, in that it represents
string arrays as arrays of indices into a (smaller) array of unique string
values. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1174">1174</a>)</p></li>
</ul>
</section>
<section id="id54">
<h3>Bug Fixes<a class="headerlink" href="#id54" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id55">
<h3>Performance<a class="headerlink" href="#id55" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id56">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id56" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id57">
<h3>Build<a class="headerlink" href="#id57" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id58">
<h3>Documentation<a class="headerlink" href="#id58" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Updated documentation for the API methods (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1188">1188</a>).</p></li>
<li><p>Updated release process to mention that docs should be built with python 3
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1188">1188</a>).</p></li>
</ul>
</section>
<section id="id59">
<h3>Miscellaneous<a class="headerlink" href="#id59" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Zipline now provides a <a class="reference external" href="https://www.python.org/dev/peps/pep-0484/#stub-files">stub file</a> for the
<code class="docutils literal notranslate"><span class="pre">zipline.api</span></code> module. This module is normally dynamically created so the
stub file provides some static information for utilities that can consume it,
for example PyCharm (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1208">1208</a>).</p></li>
</ul>
</section>
</section>
<section id="release-0-9-0">
<h2>Release 0.9.0<a class="headerlink" href="#release-0-9-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>0.9.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>March 29, 2016</p>
</dd>
</dl>
<section id="id60">
<h3>Highlights<a class="headerlink" href="#id60" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added classifiers and normalization methods to pipeline, along with new
datasets and factors.</p></li>
<li><p>Added support for Windows with continuous integration on AppVeyor.</p></li>
</ul>
</section>
<section id="id61">
<h3>Enhancements<a class="headerlink" href="#id61" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added new datasets
<code class="xref py py-class docutils literal notranslate"><span class="pre">CashBuybackAuthorizations</span></code>
and <code class="xref py py-class docutils literal notranslate"><span class="pre">ShareBuybackAuthorizations</span></code>
for use in the Pipeline API.  These datasets provide an abstract interface for
adding cash and share buyback authorizations data, respectively, to a new
algorithm. pandas-based reference implementations for these datasets can be
found in <code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.pipeline.loaders.buyback_auth</span></code>, and experimental
blaze-based implementations can be found in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.pipeline.loaders.blaze.buyback_auth</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1022">1022</a>).</p></li>
<li><p>Added new datasets
<code class="xref py py-class docutils literal notranslate"><span class="pre">DividendsByExDate</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">DividendsByPayDate</span></code>, and
<code class="xref py py-class docutils literal notranslate"><span class="pre">DividendsByAnnouncementDate</span></code>
for use in the Pipeline API.  These datasets provide an abstract interface for
adding dividends data organized by ex date, pay date, and announcement date,
respectively, to a new algorithm. pandas-based reference implementations for
these datasets can be found in <code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.pipeline.loaders.dividends</span></code>, and
experimental blaze-based implementations can be found in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.pipeline.loaders.blaze.dividends</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1093">1093</a>).</p></li>
<li><p>Added new built-in factors,
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.BusinessDaysSinceCashBuybackAuth</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.BusinessDaysSinceShareBuybackAuth</span></code>.  These
factors use the new <code class="docutils literal notranslate"><span class="pre">CashBuybackAuthorizations</span></code> and
<code class="docutils literal notranslate"><span class="pre">ShareBuybackAuthorizations</span></code> datasets, respectively. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1022">1022</a>).</p></li>
<li><p>Added new built-in factors,
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.BusinessDaysSinceDividendAnnouncement</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.BusinessDaysUntilNextExDate</span></code>, and
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.BusinessDaysSincePreviousExDate</span></code>.  These
factors use the new <code class="docutils literal notranslate"><span class="pre">DividendsByAnnouncementDate`</span> <span class="pre">and</span> <span class="pre">``DividendsByExDate</span></code>
datasets, respectively. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1093">1093</a>).</p></li>
<li><p>Implemented <code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.Classifier</span></code>, a new core pipeline API
term representing grouping keys.  Classifiers are primarily used by passing
them as the <code class="docutils literal notranslate"><span class="pre">groupby</span></code> parameter to factor normalization methods.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1046">1046</a>)</p></li>
<li><p>Added factor normalization methods:
<a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.demean" title="zipline.pipeline.Factor.demean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.demean()</span></code></a> and
<a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.zscore" title="zipline.pipeline.Factor.zscore"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.zscore()</span></code></a>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1046">1046</a>)</p></li>
<li><p>Added <a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.quantiles" title="zipline.pipeline.Factor.quantiles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.quantiles()</span></code></a>, a method for computing a
Classifier from a Factor by partitioning into equally-sized buckets. Also
added helpers for common quantile sizes
(<a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.quartiles" title="zipline.pipeline.Factor.quartiles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.quartiles()</span></code></a>,
<a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.quartiles" title="zipline.pipeline.Factor.quartiles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.quartiles()</span></code></a>, and
<a class="reference internal" href="api-reference.html#zipline.pipeline.Factor.deciles" title="zipline.pipeline.Factor.deciles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipline.pipeline.Factor.deciles()</span></code></a>) (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1075">1075</a>).</p></li>
</ul>
</section>
<section id="id62">
<h3>Experimental Features<a class="headerlink" href="#id62" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental features are subject to change.</p>
</div>
<p>None</p>
</section>
<section id="id63">
<h3>Bug Fixes<a class="headerlink" href="#id63" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixed a bug where merging two numerical expressions failed given too many
inputs. This caused running a pipeline to fail when combining more than ten
factors or filters. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1072">1072</a>)</p></li>
</ul>
</section>
<section id="id64">
<h3>Performance<a class="headerlink" href="#id64" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id65">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id65" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id66">
<h3>Build<a class="headerlink" href="#id66" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added AppVeyor for continuous integration on Windows.  Added conda build of
zipline and its dependencies to AppVeyor and Travis builds, which upload
their results to anaconda.org labeled with “ci”. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/981">981</a>)</p></li>
</ul>
</section>
<section id="id67">
<h3>Documentation<a class="headerlink" href="#id67" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id68">
<h3>Miscellaneous<a class="headerlink" href="#id68" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds <code class="xref py py-class docutils literal notranslate"><span class="pre">ZiplineTestCase</span></code> which provides hooks
to consume test fixtures. Fixtures are things like:
<code class="xref py py-class docutils literal notranslate"><span class="pre">WithAssetFinder</span></code> which will make
<code class="docutils literal notranslate"><span class="pre">self.asset_finder</span></code> available to your test with some mock data
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/1042">1042</a>).</p></li>
</ul>
</section>
</section>
<section id="release-0-8-4">
<h2>Release 0.8.4<a class="headerlink" href="#release-0-8-4" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>0.8.4</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>February 24, 2016</p>
</dd>
</dl>
<section id="id69">
<h3>Highlights<a class="headerlink" href="#id69" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added a new <code class="xref py py-class docutils literal notranslate"><span class="pre">EarningsCalendar</span></code> dataset
for use in the Pipeline API. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/905">905</a>).</p></li>
<li><p><a class="reference internal" href="api-reference.html#zipline.assets.AssetFinder" title="zipline.assets.assets.AssetFinder"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssetFinder</span></code></a> speedups (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/830">830</a> and
<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/817">817</a>).</p></li>
<li><p>Improved support for non-float dtypes in Pipeline.  Most notably, we now
support <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> and <code class="docutils literal notranslate"><span class="pre">int64</span></code> dtypes for <code class="docutils literal notranslate"><span class="pre">Factor</span></code>, and
<code class="docutils literal notranslate"><span class="pre">BoundColumn.latest</span></code> now returns a proper <code class="docutils literal notranslate"><span class="pre">Filter</span></code> object when the column
is of dtype <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p></li>
<li><p>Zipline now supports <code class="docutils literal notranslate"><span class="pre">numpy</span></code> 1.10, <code class="docutils literal notranslate"><span class="pre">pandas</span></code> 0.17, and <code class="docutils literal notranslate"><span class="pre">scipy</span></code> 0.16
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/969">969</a>).</p></li>
<li><p>Batch transforms have been deprecated and will be removed in a future release.
Using <code class="docutils literal notranslate"><span class="pre">history</span></code> is recommended as an alternative.</p></li>
</ul>
</section>
<section id="id70">
<h3>Enhancements<a class="headerlink" href="#id70" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Adds a way for users to provide a context manager to use when executing the
scheduled functions (including <code class="docutils literal notranslate"><span class="pre">handle_data</span></code>). This context manager will be
passed the <a class="reference internal" href="api-reference.html#zipline.protocol.BarData" title="zipline.protocol.BarData"><code class="xref py py-class docutils literal notranslate"><span class="pre">BarData</span></code></a> object for the bar and will
be used for the duration of all of the functions scheduled to run. This can be
passed to <code class="xref py py-class docutils literal notranslate"><span class="pre">TradingAlgorithm</span></code> by the keyword argument
<code class="docutils literal notranslate"><span class="pre">create_event_context</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/828">828</a>).</p></li>
<li><p>Added support for <code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.Factor</span></code> instances with
<code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtypes. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/905">905</a>)</p></li>
<li><p>Added a new <code class="xref py py-class docutils literal notranslate"><span class="pre">EarningsCalendar</span></code> dataset
for use in the Pipeline API.  This dataset provides an abstract interface for
adding earnings announcement data to a new algorithm. A pandas-based
reference implementation for this dataset can be found in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.pipeline.loaders.earnings</span></code>, and an experimental blaze-based
implementation can be found in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">zipline.pipeline.loaders.blaze.earnings</span></code>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/905">905</a>).</p></li>
<li><p>Added new built-in factors,
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.BusinessDaysUntilNextEarnings</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.BusinessDaysSincePreviousEarnings</span></code>.  These
factors use the new <code class="docutils literal notranslate"><span class="pre">EarningsCalendar</span></code> dataset. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/905">905</a>).</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">isnan()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">notnan()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">isfinite()</span></code> methods to
<code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.Factor</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/861">861</a>).</p></li>
<li><p>Added <a class="reference internal" href="api-reference.html#zipline.pipeline.factors.Returns" title="zipline.pipeline.factors.Returns"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipline.pipeline.factors.Returns</span></code></a>, a built-in factor which
calculates the percent change in close price over the given
window_length. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/884">884</a>).</p></li>
<li><p>Added a new built-in factor:
<a class="reference internal" href="api-reference.html#zipline.pipeline.factors.AverageDollarVolume" title="zipline.pipeline.factors.AverageDollarVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">AverageDollarVolume</span></code></a>. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/927">927</a>).</p></li>
<li><p>Added <a class="reference internal" href="api-reference.html#zipline.pipeline.factors.ExponentialWeightedMovingAverage" title="zipline.pipeline.factors.ExponentialWeightedMovingAverage"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExponentialWeightedMovingAverage</span></code></a> and
<a class="reference internal" href="api-reference.html#zipline.pipeline.factors.ExponentialWeightedMovingStdDev" title="zipline.pipeline.factors.ExponentialWeightedMovingStdDev"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExponentialWeightedMovingStdDev</span></code></a>
factors. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/910">910</a>).</p></li>
<li><p>Allow <a class="reference internal" href="api-reference.html#zipline.pipeline.data.DataSet" title="zipline.pipeline.data.DataSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code></a> classes to be subclassed where
subclasses inherit all of the columns from the parent. These columns will be
new sentinels so you can register them a custom loader (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/924">924</a>).</p></li>
<li><p>Added <code class="xref py py-func docutils literal notranslate"><span class="pre">coerce()</span></code> to coerce inputs from one
type into another before passing them to the function (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/948">948</a>).</p></li>
<li><p>Added <code class="xref py py-func docutils literal notranslate"><span class="pre">optionally()</span></code> to wrap other
preprocessor functions to explicitly allow <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/947">947</a>).</p></li>
<li><p>Added <code class="xref py py-func docutils literal notranslate"><span class="pre">ensure_timezone()</span></code> to allow string
arguments to get converted into <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.tzinfo</span></code></a> objects. This also
allows <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> objects to be passed directly (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/947">947</a>).</p></li>
<li><p>Added two optional arguments, <code class="docutils literal notranslate"><span class="pre">data_query_time</span></code> and <code class="docutils literal notranslate"><span class="pre">data_query_tz</span></code> to
<code class="xref py py-class docutils literal notranslate"><span class="pre">BlazeLoader</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">BlazeEarningsCalendarLoader</span></code>.
These arguments allow the user to specify some cutoff time for data when
loading from the resource. For example, if I want to simulate executing my
<code class="docutils literal notranslate"><span class="pre">before_trading_start</span></code> function at <code class="docutils literal notranslate"><span class="pre">8:45</span> <span class="pre">US/Eastern</span></code> then I could pass
<code class="docutils literal notranslate"><span class="pre">datetime.time(8,</span> <span class="pre">45)</span></code> and <code class="docutils literal notranslate"><span class="pre">'US/Eastern'</span></code> to the loader. This means that
data that is timestamped on or after <code class="docutils literal notranslate"><span class="pre">8:45</span></code> will not seen on that day in the
simulation. The data will be made available on the next day (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/947">947</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BoundColumn.latest</span></code> now returns a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Filter</span></code> for columns of dtype
<code class="docutils literal notranslate"><span class="pre">bool</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/962">962</a>).</p></li>
<li><p>Added support for <code class="xref py py-class docutils literal notranslate"><span class="pre">Factor</span></code> instances with
<code class="docutils literal notranslate"><span class="pre">int64</span></code> dtype.  <a class="reference internal" href="api-reference.html#zipline.pipeline.data.Column" title="zipline.pipeline.data.dataset.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> now requires
a <code class="docutils literal notranslate"><span class="pre">missing_value</span></code> when dtype is integral. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/962">962</a>)</p></li>
<li><p>It is also now possible to specify custom <code class="docutils literal notranslate"><span class="pre">missing_value</span></code> values for
<code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">datetime</span></code>, and <code class="docutils literal notranslate"><span class="pre">bool</span></code> Pipeline terms. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/962">962</a>)</p></li>
<li><p>Added auto-close support for equities. Any positions held in an equity that
reaches its <code class="docutils literal notranslate"><span class="pre">auto_close_date</span></code> will be liquidated for cash according to the
equity’s last sale price. Furthermore, any open orders for that equity will
be canceled. Both futures and equities are now auto-closed on the morning of
their <code class="docutils literal notranslate"><span class="pre">auto_close_date</span></code>, immediately prior to <code class="docutils literal notranslate"><span class="pre">before_trading_start</span></code>.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/982">982</a>)</p></li>
</ul>
</section>
<section id="id71">
<h3>Experimental Features<a class="headerlink" href="#id71" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental features are subject to change.</p>
</div>
<ul class="simple">
<li><p>Added support for parameterized <code class="docutils literal notranslate"><span class="pre">Factor</span></code> subclasses.  Factors may specify
<code class="docutils literal notranslate"><span class="pre">params</span></code> as a class-level attribute containing a tuple of parameter names.
These values are then accepted by the constructor and forwarded by name to
the factor’s <code class="docutils literal notranslate"><span class="pre">compute</span></code> function.  This API is experimental, and may change
in future releases.</p></li>
</ul>
</section>
<section id="id72">
<h3>Bug Fixes<a class="headerlink" href="#id72" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixes an issue that would cause the daily/minutely method caching to change
the <code class="docutils literal notranslate"><span class="pre">len</span></code> of a <code class="xref py py-class docutils literal notranslate"><span class="pre">SIDData</span></code> object. This would cause
us to think that the object was not empty even when it was (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/826">826</a>).</p></li>
<li><p>Fixes an error raised in calculating beta when benchmark data were sparse.
Instead <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.nan" title="(in NumPy v1.25)"><code class="xref py py-data docutils literal notranslate"><span class="pre">numpy.nan</span></code></a> is returned (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/859">859</a>).</p></li>
<li><p>Fixed an issue pickling <code class="xref py py-func docutils literal notranslate"><span class="pre">sentinel()</span></code> objects
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/872">872</a>).</p></li>
<li><p>Fixed spurious warnings on first download of treasury data (:issue <cite>922</cite>).</p></li>
<li><p>Corrected the error messages for <a class="reference internal" href="api-reference.html#zipline.api.set_commission" title="zipline.api.set_commission"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_commission()</span></code></a> and
<a class="reference internal" href="api-reference.html#zipline.api.set_slippage" title="zipline.api.set_slippage"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_slippage()</span></code></a> when used outside of the <code class="docutils literal notranslate"><span class="pre">initialize</span></code>
function. These errors called the functions <code class="docutils literal notranslate"><span class="pre">override_*</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">set_*</span></code>. This also renamed the exception types raised from
<code class="docutils literal notranslate"><span class="pre">OverrideSlippagePostInit</span></code> and <code class="docutils literal notranslate"><span class="pre">OverrideCommissionPostInit</span></code> to
<code class="xref py py-class docutils literal notranslate"><span class="pre">SetSlippagePostInit</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">SetCommissionPostInit</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/923">923</a>).</p></li>
<li><p>Fixed an issue in the CLI that would cause assets to be added twice.
This would map the same symbol to two different sids (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/942">942</a>).</p></li>
<li><p>Fixed an issue where the
<code class="xref py py-class docutils literal notranslate"><span class="pre">PerformancePeriod</span></code> incorrectly
reported the total_positions_value when creating a
<a class="reference internal" href="api-reference.html#zipline.protocol.Account" title="zipline.protocol.Account"><code class="xref py py-class docutils literal notranslate"><span class="pre">Account</span></code></a> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/950">950</a>).</p></li>
<li><p>Fixed issues around KeyErrors coming from history and BarData on 32-bit
python, where Assets did not compare properly with int64s (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/959">959</a>).</p></li>
<li><p>Fixed a bug where boolean operators were not properly implemented on
<a class="reference internal" href="api-reference.html#zipline.pipeline.Filter" title="zipline.pipeline.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filter</span></code></a> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/991">991</a>).</p></li>
<li><p>Installation of zipline no longer downgrades numpy to 1.9.2 silently and
unconditionally (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/969">969</a>).</p></li>
</ul>
</section>
<section id="id73">
<h3>Performance<a class="headerlink" href="#id73" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Speeds up <code class="xref py py-meth docutils literal notranslate"><span class="pre">lookup_symbol()</span></code> by adding
an extension, <code class="xref py py-class docutils literal notranslate"><span class="pre">AssetFinderCachedEquities</span></code>, that
loads equities into dictionaries and then directs
<code class="xref py py-meth docutils literal notranslate"><span class="pre">lookup_symbol()</span></code> to these dictionaries
to find matching equities (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/830">830</a>).</p></li>
<li><p>Improved performance of
<code class="xref py py-meth docutils literal notranslate"><span class="pre">lookup_symbol()</span></code> by performing
batched queries. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/817">817</a>).</p></li>
</ul>
</section>
<section id="id74">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id74" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Asset databases now contain version information to ensure compatibility
with current Zipline version (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/815">815</a>).</p></li>
<li><p>Upgrade <code class="docutils literal notranslate"><span class="pre">requests</span></code> version to 2.9.1 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/commit/2ee40db">2ee40db</a>)</p></li>
<li><p>Upgrade <code class="docutils literal notranslate"><span class="pre">logbook</span></code> version to 0.12.5 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/commit/11465d9">11465d9</a>).</p></li>
<li><p>Upgrade <code class="docutils literal notranslate"><span class="pre">Cython</span></code> version to 0.23.4 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/commit/5f49fa2">5f49fa2</a>).</p></li>
</ul>
</section>
<section id="id75">
<h3>Build<a class="headerlink" href="#id75" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Makes zipline install requirements more flexible (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/825">825</a>).</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">versioneer</span></code> to manage the project <code class="docutils literal notranslate"><span class="pre">__version__</span></code> and setup.py version
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/829">829</a>).</p></li>
<li><p>Fixed coveralls integration on travis build (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/840">840</a>).</p></li>
<li><p>Fixed conda build, which now uses git source as its source and reads
requirements using setup.py, instead of copying them and letting them get out
of sync (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/937">937</a>).</p></li>
<li><p>Require <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> &gt; 18.0 (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/951">951</a>).</p></li>
</ul>
</section>
<section id="id76">
<h3>Documentation<a class="headerlink" href="#id76" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Document the release process for developers (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/835">835</a>).</p></li>
<li><p>Added reference docs for the Pipeline API. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/864">864</a>).</p></li>
<li><p>Added reference docs for Asset Metadata APIs. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/864">864</a>).</p></li>
<li><p>Generated documentation now includes links to source code for many classes
and functions. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/864">864</a>).</p></li>
<li><p>Added platform-specific documentation describing how to find binary
dependencies. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/883">883</a>).</p></li>
</ul>
</section>
<section id="id77">
<h3>Miscellaneous<a class="headerlink" href="#id77" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Added a <code class="xref py py-meth docutils literal notranslate"><span class="pre">show_graph()</span></code> method to render
a Pipeline as an image (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/836">836</a>).</p></li>
<li><p>Adds <code class="xref py py-func docutils literal notranslate"><span class="pre">subtest()</span></code> decorator for creating subtests
without <code class="xref py py-func docutils literal notranslate"><span class="pre">nose_parameterized.expand()</span></code> which bloats the test output
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/833">833</a>).</p></li>
<li><p>Limits timer report in test output to 15 longest tests (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/838">838</a>).</p></li>
<li><p>Treasury and benchmark downloads will now wait up to an hour to download
again if data returned from a remote source does not extend to the date
expected. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/841">841</a>).</p></li>
<li><p>Added a tool to downgrade the assets db to previous versions (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/941">941</a>).</p></li>
</ul>
</section>
</section>
<section id="release-0-8-3">
<h2>Release 0.8.3<a class="headerlink" href="#release-0-8-3" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>0.8.3</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>November 6, 2015</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We advanced the version to <code class="docutils literal notranslate"><span class="pre">0.8.3</span></code> to fix a source distribution issue with
pypi. There are no code changes in this version.</p>
</div>
</section>
<section id="release-0-8-0">
<h2>Release 0.8.0<a class="headerlink" href="#release-0-8-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>0.8.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>November 6, 2015</p>
</dd>
</dl>
<section id="id78">
<h3>Highlights<a class="headerlink" href="#id78" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>New documentation system with a new website at
<a class="reference external" href="https://www.zipline.io">zipline.io</a></p></li>
<li><p>Major performance enhancements.</p></li>
<li><p>Dynamic history.</p></li>
<li><p>New user defined method: <code class="docutils literal notranslate"><span class="pre">before_trading_start</span></code>.</p></li>
<li><p>New api function: <a class="reference internal" href="api-reference.html#zipline.api.schedule_function" title="zipline.api.schedule_function"><code class="xref py py-func docutils literal notranslate"><span class="pre">schedule_function()</span></code></a>.</p></li>
<li><p>New api function: <a class="reference internal" href="api-reference.html#zipline.api.get_environment" title="zipline.api.get_environment"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_environment()</span></code></a>.</p></li>
<li><p>New api function: <a class="reference internal" href="api-reference.html#zipline.api.set_max_leverage" title="zipline.api.set_max_leverage"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_max_leverage()</span></code></a>.</p></li>
<li><p>New api function: <a class="reference internal" href="api-reference.html#zipline.api.set_do_not_order_list" title="zipline.api.set_do_not_order_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_do_not_order_list()</span></code></a>.</p></li>
<li><p>Pipeline API.</p></li>
<li><p>Support for trading futures.</p></li>
</ul>
</section>
<section id="id79">
<h3>Enhancements<a class="headerlink" href="#id79" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>Account object: Adds an account object to context to track information about
the trading account.
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">context</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">settled_cash</span>
</pre></div>
</div>
<p>Returns the settled cash value that is stored on the account object.
This value is updated accordingly as the algorithm is run (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/396">396</a>).</p>
</li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">HistoryContainer</span></code> can now grow
dynamically.  Calls to <code class="xref py py-func docutils literal notranslate"><span class="pre">history()</span></code> will now be able to increase
the size or change the shape of the history container to be able to service the
call. <code class="xref py py-func docutils literal notranslate"><span class="pre">add_history()</span></code> now acts as a preformance hint to
pre-allocate sufficient space in the container. This change is backwards
compatible with <code class="docutils literal notranslate"><span class="pre">history</span></code>, all existing algorithms should continue to work as
intended (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/412">412</a>).</p></li>
<li><p>Simple transforms ported from quantopian and use history.
<code class="xref py py-class docutils literal notranslate"><span class="pre">SIDData</span></code> now has methods for:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stddev</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mavg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vwap</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returns</span></code></p></li>
</ul>
<p>These methods, except for <code class="docutils literal notranslate"><span class="pre">returns</span></code>, accept a number of days. If
you are running with minute data, then this will calculate the
number of minutes in those days, accounting for early closes and the
current time and apply the transform over the set of minutes.
<code class="docutils literal notranslate"><span class="pre">returns</span></code> takes no parameters and will return the daily returns of
the given asset.
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="n">security</span><span class="p">]</span><span class="o">.</span><span class="n">stddev</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/429">429</a>).</p>
</li>
<li><p>New fields in Performance Period.
Performance Period has new fields accessible in return value of
<code class="docutils literal notranslate"><span class="pre">to_dict</span></code>:
-  gross leverage
-  net leverage
-  short exposure
-  long exposure
-  shorts count
-  longs count
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/464">464</a>).</p></li>
<li><p>Allow <a class="reference internal" href="api-reference.html#zipline.api.order_percent" title="zipline.api.order_percent"><code class="xref py py-func docutils literal notranslate"><span class="pre">order_percent()</span></code></a> to work with various market values
(by Jeremiah Lowin).</p>
<p>Currently, <a class="reference internal" href="api-reference.html#zipline.api.order_percent" title="zipline.api.order_percent"><code class="xref py py-func docutils literal notranslate"><span class="pre">order_percent()</span></code></a> and
<a class="reference internal" href="api-reference.html#zipline.api.order_target_percent" title="zipline.api.order_target_percent"><code class="xref py py-func docutils literal notranslate"><span class="pre">order_target_percent()</span></code></a> both operate as a percentage of
<code class="docutils literal notranslate"><span class="pre">self.portfolio.portfolio_value</span></code>. This PR lets them operate as percentages
of other important MVs.
Also adds <code class="docutils literal notranslate"><span class="pre">context.get_market_value()</span></code>, which enables this
functionality.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># this is how it works today (and this still works)</span>
<span class="c1"># put 50% of my portfolio in AAPL</span>
<span class="n">order_percent</span><span class="p">(</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="c1"># note that if this were a fully invested portfolio, it would become 150% levered.</span>

<span class="c1"># take half of my available cash and buy AAPL</span>
<span class="n">order_percent</span><span class="p">(</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">percent_of</span><span class="o">=</span><span class="s1">&#39;cash&#39;</span><span class="p">)</span>

<span class="c1"># rebalance my short position, as a percentage of my current short</span>
<span class="n">book_target_percent</span><span class="p">(</span><span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">percent_of</span><span class="o">=</span><span class="s1">&#39;shorts&#39;</span><span class="p">)</span>

<span class="c1"># rebalance within a custom group of stocks</span>
<span class="n">tech_stocks</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOGL&#39;</span><span class="p">)</span>
<span class="n">tech_filter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">sid</span> <span class="ow">in</span> <span class="n">tech_stocks</span>
<span class="k">for</span> <span class="n">stock</span> <span class="ow">in</span> <span class="n">tech_stocks</span><span class="p">:</span>
    <span class="n">order_target_percent</span><span class="p">(</span><span class="n">stock</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="n">percent_of_fn</span><span class="o">=</span><span class="n">tech_filter</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/477">477</a>).</p>
</li>
<li><p>Command line option to for printing algo to stdout (by Andrea D’Amore)
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/545">545</a>).</p></li>
<li><p>New user defined function <code class="docutils literal notranslate"><span class="pre">before_trading_start</span></code>. This function can be
overridden by the user to be called once before the market opens every
day (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/389">389</a>).</p></li>
<li><p>New api function <a class="reference internal" href="api-reference.html#zipline.api.schedule_function" title="zipline.api.schedule_function"><code class="xref py py-func docutils literal notranslate"><span class="pre">schedule_function()</span></code></a>. This function allows
the user to schedule a function to be called based on more complicated rules
about the date and time. For example, call the function 15 minutes before
market close respecting early closes (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/411">411</a>).</p></li>
<li><p>New api function <code class="xref py py-func docutils literal notranslate"><span class="pre">set_do_not_order_list()</span></code>. This function accepts a list
of assets and adds a trading guard that prevents the algorithm from
trading them. Adds a list point in time list of leveraged ETFs that people may
want to mark as ‘do not trade’ (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/478">478</a>).</p></li>
<li><p>Adds a class for representing securities. <a class="reference internal" href="api-reference.html#zipline.api.order" title="zipline.api.order"><code class="xref py py-func docutils literal notranslate"><span class="pre">order()</span></code></a> and other
order functions now require an instance of <code class="docutils literal notranslate"><span class="pre">Security</span></code>
instead of an int or string (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/520">520</a>).</p></li>
<li><p>Generalize the <code class="docutils literal notranslate"><span class="pre">Security</span></code> class to <a class="reference internal" href="api-reference.html#zipline.assets.Asset" title="zipline.assets.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Asset</span></code></a>. This is
in preperation of adding support for other asset types (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/535">535</a>).</p></li>
<li><p>New api function <a class="reference internal" href="api-reference.html#zipline.api.get_environment" title="zipline.api.get_environment"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_environment()</span></code></a>. This function by
default returns the string <code class="docutils literal notranslate"><span class="pre">'zipline'</span></code>. This is used so that algorithms can
have different behavior on Quantopian and local zipline (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/384">384</a>).</p></li>
<li><p>Extends <a class="reference internal" href="api-reference.html#zipline.api.get_environment" title="zipline.api.get_environment"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_environment()</span></code></a> to expose more of the environment
to the algorithm. The function now accepts an argument that is the field to
return. By default, this is <code class="docutils literal notranslate"><span class="pre">'platform'</span></code> which returns the old value of
<code class="docutils literal notranslate"><span class="pre">'zipline'</span></code> but the following new fields can be requested:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">''arena'</span></code>: Is this live trading or backtesting?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'data_frequency'</span></code>: Is this minute mode or daily mode?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'start'</span></code>: Simulation start date.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'end'</span></code>: Simulation end date.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'capital_base'</span></code>: The starting capital for the simulation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'platform'</span></code>: The platform that the algorithm is running on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'*'</span></code>: A dictionary containing all of these fields.</p></li>
</ul>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/449">449</a>).</p>
</li>
<li><p>New api function <code class="xref py py-func docutils literal notranslate"><span class="pre">set_max_leveraged()</span></code>. This method adds a
trading guard that prevents your algorithm from over leveraging itself
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/552">552</a>).</p></li>
</ul>
</section>
<section id="id80">
<h3>Experimental Features<a class="headerlink" href="#id80" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental features are subject to change.</p>
</div>
<ul class="simple">
<li><p>Adds new Pipeline API. The pipeline API is a high-level declarative API for
representing trailing window computations on large datasets (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/630">630</a>).</p></li>
<li><p>Adds support for futures trading (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/637">637</a>).</p></li>
<li><p>Adds Pipeline loader for blaze expressions. This allows users to pull data
from any format blaze understands and use it in the Pipeline
API. (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/775">775</a>).</p></li>
</ul>
</section>
<section id="id81">
<h3>Bug Fixes<a class="headerlink" href="#id81" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fix a bug where the reported returns could sharply dip for random periods of
time (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/378">378</a>).</p></li>
<li><p>Fix a bug that prevented debuggers from resolving the algorithm file
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/431">431</a>).</p></li>
<li><p>Properly forward arguments to user defined <code class="docutils literal notranslate"><span class="pre">initialize</span></code> function
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/687">687</a>).</p></li>
<li><p>Fix a bug that would cause treasury data to be redownloaded every backtest
between midnight EST and the time when the treasury data was available
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/793">793</a>).</p></li>
<li><p>Fix a bug that would cause the user defined <code class="docutils literal notranslate"><span class="pre">analyze</span></code> function to not be
called if it was passed as a keyword argument to
<code class="xref py py-class docutils literal notranslate"><span class="pre">TradingAlgorithm</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/819">819</a>).</p></li>
</ul>
</section>
<section id="id82">
<h3>Performance<a class="headerlink" href="#id82" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Major performance enhancements to history (by Dale Jung) (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/488">488</a>).</p></li>
</ul>
</section>
<section id="id83">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id83" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Remove simple transform code. These are available as methods of
<code class="xref py py-class docutils literal notranslate"><span class="pre">SIDData</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/550">550</a>).</p></li>
</ul>
</section>
<section id="id84">
<h3>Build<a class="headerlink" href="#id84" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id85">
<h3>Documentation<a class="headerlink" href="#id85" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Switched to sphinx for the documentation (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/816">816</a>).</p></li>
</ul>
</section>
</section>
<section id="release-0-7-0">
<h2>Release 0.7.0<a class="headerlink" href="#release-0-7-0" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>0.7.0</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>July 25, 2014</p>
</dd>
</dl>
<section id="id86">
<h3>Highlights<a class="headerlink" href="#id86" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Command line interface to run algorithms directly.</p></li>
<li><p>IPython Magic <code class="docutils literal notranslate"><span class="pre">%%zipline</span></code> that runs algorithm defined in an IPython
notebook cell.</p></li>
<li><p>API methods for building safeguards against runaway ordering and
undesired short positions.</p></li>
<li><p>New history() function to get a moving DataFrame of past market data
(replaces BatchTransform).</p></li>
<li><p>A new <a class="reference external" href="http://nbviewer.ipython.org/github/quantopian/zipline/blob/master/docs/tutorial.ipynb">beginner
tutorial</a>.</p></li>
</ul>
</section>
<section id="id87">
<h3>Enhancements<a class="headerlink" href="#id87" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>CLI: Adds a CLI and IPython magic for zipline.
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">run_algo</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">f</span> <span class="n">dual_moving_avg</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">symbols</span> <span class="n">AAPL</span> <span class="o">--</span><span class="n">start</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span> <span class="o">--</span><span class="n">end</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="n">o</span> <span class="n">dma</span><span class="o">.</span><span class="n">pickle</span>
</pre></div>
</div>
<p>Grabs the data from yahoo finance, runs the file
dual_moving_avg.py (and looks for <code class="docutils literal notranslate"><span class="pre">dual_moving_avg_analyze.py</span></code>
which, if found, will be executed after the algorithm has been run),
and outputs the perf <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> to <code class="docutils literal notranslate"><span class="pre">dma.pickle</span></code> (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/325">325</a>).</p>
</li>
</ul>
<ul>
<li><p>IPython magic command (at the top of an IPython notebook cell).
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">zipline</span> <span class="o">--</span><span class="n">symbols</span> <span class="n">AAPL</span> <span class="o">--</span><span class="n">start</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span> <span class="o">--</span><span class="n">end</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="n">o</span> <span class="n">perf</span>
</pre></div>
</div>
<p>Does the same as above except instead of executing the file looks
for the algorithm in the cell and instead of outputting the perf df
to a file, creates a variable in the namespace called perf (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/325">325</a>).</p>
</li>
</ul>
<ul>
<li><p>Adds Trading Controls to the algorithm API.</p>
<p>The following functions are now available on <code class="docutils literal notranslate"><span class="pre">TradingAlgorithm</span></code>
and for algo scripts:</p>
<p><code class="docutils literal notranslate"><span class="pre">set_max_order_size(self,</span> <span class="pre">sid=None,</span> <span class="pre">max_shares=None,</span> <span class="pre">max_notional=None)</span></code>
Set a limit on the absolute magnitude, in shares and/or total
dollar value, of any single order placed by this algorithm for a
given sid. If <code class="docutils literal notranslate"><span class="pre">sid</span></code> is None, then the rule is applied to any order
placed by the algorithm.
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="c1"># Algorithm will raise an exception if we attempt to place an</span>
    <span class="c1"># order which would cause us to hold more than 10 shares</span>
    <span class="c1"># or 1000 dollars worth of sid(24).</span>
    <span class="n">set_max_order_size</span><span class="p">(</span><span class="n">sid</span><span class="p">(</span><span class="mi">24</span><span class="p">),</span> <span class="n">max_shares</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_notional</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">set_max_position_size(self,</span> <span class="pre">sid=None,</span> <span class="pre">max_shares=None,</span> <span class="pre">max_notional=None)</span></code>
-Set a limit on the absolute magnitude, in either shares or
dollar value, of any position held by the algorithm for a given
sid. If <code class="docutils literal notranslate"><span class="pre">sid</span></code> is None, then the rule is applied to any position
held by the algorithm.
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>def initialize(context):
    # Algorithm will raise an exception if we attempt to order more than
    # 10 shares or 1000 dollars worth of sid(24) in a single order.
    set_max_order_size(sid(24), max_shares=10, max_notional=1000.0)

``set_max_order_count(self, max_count)``
Set a limit on the number of orders that can be placed by the algorithm in
a single trading day.
Example:
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="c1"># Algorithm will raise an exception if more than 50 orders are placed in a day.</span>
    <span class="n">set_max_order_count</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">set_long_only(self)</span></code>
Set a rule specifying that the
algorithm may not hold short positions.
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="c1"># Algorithm will raise an exception if it attempts to place</span>
    <span class="c1"># an order that would cause it to hold a short position.</span>
    <span class="n">set_long_only</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/329">329</a>).</p>
</li>
<li><p>Adds an <code class="docutils literal notranslate"><span class="pre">all_api_methods</span></code> classmethod on <code class="docutils literal notranslate"><span class="pre">TradingAlgorithm</span></code> that
returns a list of all <code class="docutils literal notranslate"><span class="pre">TradingAlgorithm</span></code> API methods (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/333">333</a>).</p></li>
<li><p>Expanded record() functionality for dynamic naming.
The record() function can now take positional args before the
kwargs. All original usage and functionality is the same, but now
these extra usages will work:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Dynamically_Generated_String&#39;</span>
<span class="n">record</span><span class="p">(</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">...</span> <span class="p">)</span>
<span class="n">record</span><span class="p">(</span> <span class="n">name</span><span class="p">,</span> <span class="n">value1</span><span class="p">,</span> <span class="s1">&#39;name2&#39;</span><span class="p">,</span> <span class="n">value2</span><span class="p">,</span> <span class="n">name3</span><span class="o">=</span><span class="n">value3</span><span class="p">,</span> <span class="n">name4</span><span class="o">=</span><span class="n">value4</span> <span class="p">)</span>
</pre></div>
</div>
<p>The requirements are simply that the poritional args occur only
before the kwargs (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/355">355</a>).</p>
</li>
<li><p>history() has been ported from Quantopian to Zipline and provides
moving window of market data.
history() replaces BatchTransform. It is faster, works for minute level data
and has a superior interface. To use it, call <code class="docutils literal notranslate"><span class="pre">add_history()</span></code> inside of
<code class="docutils literal notranslate"><span class="pre">initialize()</span></code> and then receive a pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> by calling history()
from inside <code class="docutils literal notranslate"><span class="pre">handle_data()</span></code>. Check out the <a class="reference external" href="http://nbviewer.ipython.org/github/quantopian/zipline/blob/master/docs/tutorial.ipynb">tutorial</a>
and an <a class="reference external" href="https://github.com/quantopian/zipline/blob/master/zipline/examples/dual_moving_average.py">example</a>.
(<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/345">345</a> and <a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/357">357</a>).</p></li>
<li><p>history() now supports <code class="docutils literal notranslate"><span class="pre">1m</span></code> window lengths (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/345">345</a>).</p></li>
</ul>
</section>
<section id="id88">
<h3>Bug Fixes<a class="headerlink" href="#id88" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fix alignment of trading days and open and closes in trading
environment (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/331">331</a>).</p></li>
<li><p>RollingPanel fix when adding/dropping new fields (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/349">349</a>).</p></li>
</ul>
</section>
<section id="id89">
<h3>Performance<a class="headerlink" href="#id89" title="Permalink to this heading">#</a></h3>
<p>None</p>
</section>
<section id="id90">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id90" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Removed undocumented and untested HDF5 and CSV data sources (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/267">267</a>).</p></li>
<li><p>Refactor sim_params (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/352">352</a>).</p></li>
<li><p>Refactoring of history (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/340">340</a>).</p></li>
</ul>
</section>
<section id="id91">
<h3>Build<a class="headerlink" href="#id91" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>The following dependencies have been updated (zipline might work with
other versions too):</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">-pytz==2013.9</span>
<span class="gi">+pytz==2014.4</span>
<span class="gi">+numpy==1.8.1</span>
<span class="gd">-numpy==1.8.0</span>
<span class="gi">+scipy==0.12.0</span>
<span class="gi">+patsy==0.2.1</span>
<span class="gi">+statsmodels==0.5.0</span>
<span class="gd">-six==1.5.2</span>
<span class="gi">+six==1.6.1</span>
<span class="gd">-Cython==0.20</span>
<span class="gi">+Cython==0.20.1</span>
<span class="gd">-TA-Lib==0.4.8</span>
<span class="gi">+--allow-external TA-Lib --allow-unverified TA-Lib TA-Lib==0.4.8</span>
<span class="gd">-requests==2.2.0</span>
<span class="gi">+requests==2.3.0</span>
<span class="gd">-nose==1.3.0</span>
<span class="gi">+nose==1.3.3</span>
<span class="gd">-xlrd==0.9.2</span>
<span class="gi">+xlrd==0.9.3</span>
<span class="gd">-pep8==1.4.6</span>
<span class="gi">+pep8==1.5.7</span>
<span class="gd">-pyflakes==0.7.3</span>
<span class="gd">-pip-tools==0.3.4</span>
<span class="gi">+pyflakes==0.8.1`</span>
<span class="gd">-scipy==0.13.2</span>
<span class="gd">-tornado==3.2</span>
<span class="gd">-pyparsing==2.0.1</span>
<span class="gd">-patsy==0.2.1</span>
<span class="gd">-statsmodels==0.4.3</span>
<span class="gi">+tornado==3.2.1</span>
<span class="gi">+pyparsing==2.0.2</span>
<span class="gd">-Markdown==2.3.1</span>
<span class="gi">+Markdown==2.4.1</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="contributors">
<h3>Contributors<a class="headerlink" href="#contributors" title="Permalink to this heading">#</a></h3>
<p>The following people have contributed to this release, ordered by
numbers of commit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">38</span>  <span class="n">Scott</span> <span class="n">Sanderson</span>
<span class="mi">29</span>  <span class="n">Thomas</span> <span class="n">Wiecki</span>
<span class="mi">26</span>  <span class="n">Eddie</span> <span class="n">Hebert</span>
 <span class="mi">6</span>  <span class="n">Delaney</span> <span class="n">Granizo</span><span class="o">-</span><span class="n">Mackenzie</span>
 <span class="mi">3</span>  <span class="n">David</span> <span class="n">Edwards</span>
 <span class="mi">3</span>  <span class="n">Richard</span> <span class="n">Frank</span>
 <span class="mi">2</span>  <span class="n">Jonathan</span> <span class="n">Kamens</span>
 <span class="mi">1</span>  <span class="n">Pankaj</span> <span class="n">Garg</span>
 <span class="mi">1</span>  <span class="n">Tony</span> <span class="n">Lambiris</span>
 <span class="mi">1</span>  <span class="n">fawce</span>
</pre></div>
</div>
</section>
</section>
<section id="release-0-6-1">
<h2>Release 0.6.1<a class="headerlink" href="#release-0-6-1" title="Permalink to this heading">#</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>0.6.1</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>April 23, 2014</p>
</dd>
</dl>
<section id="id92">
<h3>Highlights<a class="headerlink" href="#id92" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Major fixes to risk calculations, see Bug Fixes section.</p></li>
<li><p>Port of <code class="docutils literal notranslate"><span class="pre">history()</span></code> function, see Enhancements section</p></li>
<li><p>Start of support for Quantopian algorithm script-syntax, see ENH
section.</p></li>
<li><p>conda package manager support, see Build section.</p></li>
</ul>
</section>
<section id="id93">
<h3>Enhancements<a class="headerlink" href="#id93" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>Always process new orders
i.e. on bars where <code class="docutils literal notranslate"><span class="pre">handle_data</span></code> isn’t called, but there is ‘clock’
data e.g. a consistent benchmark, process orders.</p></li>
<li><p>Empty positions are now filtered from the portfolio container.
To help prevent algorithms from operating on positions that are not in
the existing universe of stocks.
Formerly, iterating over positions would return positions for stocks
which had zero shares held. (Where an explicit check in algorithm code
for <code class="docutils literal notranslate"><span class="pre">pos.amount</span> <span class="pre">!=</span> <span class="pre">0</span></code> could prevent from using a non-existent
position.)</p></li>
<li><p>Add trading calendar for BMF&amp;Bovespa.</p></li>
<li><p>Add beginning of algo script support.</p></li>
<li><p>Starts on the path of parity with the script syntax in Quantopian’s IDE
on <a class="reference external" href="https://quantopian.com">https://quantopian.com</a>
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span> <span class="kn">import</span> <span class="nn">pytz</span>
<span class="kn">from</span> <span class="nn">zipline</span> <span class="kn">import</span> <span class="n">TradingAlgorithm</span>
<span class="kn">from</span> <span class="nn">zipline.utils.factory</span> <span class="kn">import</span> <span class="n">load_from_yahoo</span>

<span class="kn">from</span> <span class="nn">zipline.api</span> <span class="kn">import</span> <span class="n">order</span>

<span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">test</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">def</span> <span class="nf">handle_date</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="n">order</span><span class="p">(</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">test</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">pylab</span> <span class="k">as</span> <span class="nn">pl</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2008</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">load_from_yahoo</span><span class="p">(</span>
        <span class="n">stocks</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">],</span>
        <span class="n">indexes</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span>
        <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="n">algo</span> <span class="o">=</span> <span class="n">TradingAlgorithm</span><span class="p">(</span>
        <span class="n">initialize</span><span class="o">=</span><span class="n">initialize</span><span class="p">,</span>
        <span class="n">handle_data</span><span class="o">=</span><span class="n">handle_date</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">portfolio_value</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">pl</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>Add HDF5 and CSV sources.</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">handle_data</span></code> to times with market data.
To prevent cases where custom data types had unaligned timestamps, only
call <code class="docutils literal notranslate"><span class="pre">handle_data</span></code> when market data passes through.
Custom data that comes before market data will still update the data
bar. But the handling of that data will only be done when there is
actionable market data.</p></li>
<li><p>Extended commission PerShare method to allow a minimum cost per trade.</p></li>
<li><p>Add symbol api function
A <code class="docutils literal notranslate"><span class="pre">symbol()</span></code> lookup feature was added to Quantopian. By adding the
same API function to zipline we can make copy&amp;pasting of a Zipline algo
to Quantopian easier.</p></li>
<li><p>Add simulated random trade source.
Added a new data source that emits events with certain user-specified
frequency (minute or daily).
This allows users to backtest and debug an algorithm in minute mode to
provide a cleaner path towards Quantopian.</p></li>
<li><p>Remove dependency on benchmark for trading day calendar.
Instead of the benchmarks’ index, the trading calendar is now used to
populate the environment’s trading days.
Remove <code class="docutils literal notranslate"><span class="pre">extra_date</span></code> field, since unlike the benchmarks list, the
trading calendar can generate future dates, so dates for current day
trading do not need to be appended.
Motivations:</p>
<ul class="simple">
<li><p>The source for the open and close/early close calendar and the
trading day calendar is now the same, which should help prevent
potential issues due to misalignment.</p></li>
<li><p>Allows configurations where the benchmark is provided as a generator
based data source to need to supply a second benchmark list just to
populate dates.</p></li>
</ul>
</li>
<li><p>Port <code class="docutils literal notranslate"><span class="pre">history()</span></code> API method from Quantopian.
Opens the core of the <code class="docutils literal notranslate"><span class="pre">history()</span></code> function that was previously only
available on the Quantopian platform.</p>
<p>The history method is analoguous to the <code class="docutils literal notranslate"><span class="pre">batch_transform</span></code>
function/decorator, but with a hopefully more precise specification of
the frequency and period of the previous bar data that is captured.
Example usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zipline.api</span> <span class="kn">import</span> <span class="n">history</span><span class="p">,</span> <span class="n">add_history</span>

<span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="n">add_history</span><span class="p">(</span><span class="n">bar_count</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="s1">&#39;1d&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">handle_data</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="n">prices</span> <span class="o">=</span> <span class="n">history</span><span class="p">(</span><span class="n">bar_count</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="s1">&#39;1d&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">)</span>
    <span class="n">context</span><span class="o">.</span><span class="n">last_prices</span> <span class="o">=</span> <span class="n">prices</span>
</pre></div>
</div>
<p>N.B. this version of history lacks the backfilling capability that
allows the return a full DataFrame on the first bar.</p>
</li>
</ul>
</section>
<section id="id94">
<h3>Bug Fixes<a class="headerlink" href="#id94" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>Adjust benchmark events to match market hours (<a class="reference external" href="https://github.com/stefan-jansen/zipline/issues/241">241</a>).
Previously benchmark events were emitted at 0:00 on the day the
benchmark related to: in ‘minute’ emission mode this meant that the
benchmarks were emitted before any intra-day trades were processed.</p></li>
<li><p>Ensure perf stats are generated for all days
When running with minutely emissions the simulator would report to the
user that it simulated ‘n - 1’ days (where n is the number of days
specified in the simulation params). Now the correct number of trading
days are reported as being simulated.</p></li>
<li><p>Fix repr for cumulative risk metrics.
The <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> for RiskMetricsCumulative was referring to an older
structure of the class, causing an exception when printed.
Also, now prints the last values in the metrics DataFrame.</p></li>
<li><p>Prevent minute emission from crashing at end of available data.
The next day calculation was causing an error when a minute emission
algorithm reached the end of available data.
Instead of a generic exception when available data is reached, raise and
catch a named exception so that the tradesimulation loop can skip over,
since the next market close is not needed at the end.</p></li>
<li><p>Fix pandas indexing in trading calendar. This could alternatively be filed
under Performance. Index using loc instead of the inefficient index-ing of
day, then time.</p></li>
<li><p>Prevent crash in vwap transform due to non-existent member.
The WrongDataForTransform was referencing a <code class="docutils literal notranslate"><span class="pre">self.fields</span></code> member,
which did not exist.
Add a self.fields member set to <code class="docutils literal notranslate"><span class="pre">price</span></code> and <code class="docutils literal notranslate"><span class="pre">volume</span></code> and use it to
iterate over during the check.</p></li>
<li><p>Fix max drawdown calculation.
The input into max drawdown was incorrect, causing the bad results. i.e.
the <code class="docutils literal notranslate"><span class="pre">compounded_log_returns</span></code> were not values representative of the
algorithms total return at a given time, though
<code class="docutils literal notranslate"><span class="pre">calculate_max_drawdown</span></code> was treating the values as if they were.
Instead, the <code class="docutils literal notranslate"><span class="pre">algorithm_period_returns</span></code> series is now used, which does
provide the total return.</p></li>
<li><p>Fix cost basis calculation.
Cost basis calculation now takes direction of txn into account.
Closing a long position or covering a short shouldn’t affect the cost
basis.</p></li>
<li><p>Fix floating point error in <code class="docutils literal notranslate"><span class="pre">order()</span></code>.
Where order amounts that were near an integer could accidentally be
floored or ceilinged (depending on being postive or negative) to the
wrong integer.
e.g. an amount stored internally as -27.99999 was converted to -27
instead of -28.</p></li>
<li><p>Update perf period state when positions are changed by splits.
Otherwise, <code class="docutils literal notranslate"><span class="pre">self._position_amounts</span></code> will be out of sync with
position.amount, etc.</p></li>
<li><p>Fix misalignment of downside series calc when using exact dates.
An oddity that was exposed while working on making the return series
passed to the risk module more exact, the series comparison between the
returns and mean returns was unbalanced, because the mean returns were
not masked down to the downside data points; however, in most, if not
all cases this was papered over by the call to <code class="docutils literal notranslate"><span class="pre">.valid()</span></code> which was
removed in this change set.</p></li>
<li><p>Check that self.logger exists before using it.
<code class="docutils literal notranslate"><span class="pre">self.logger</span></code> is initialized as <code class="docutils literal notranslate"><span class="pre">None</span></code> and there is no guarantee
that users have set it, so check that it exists before trying to pass
messages to it.</p></li>
<li><p>Prevent out of sync market closes in performance tracker.
In situations where the performance tracker has been reset or patched to
handle state juggling with warming up live data, the <code class="docutils literal notranslate"><span class="pre">market_close</span></code>
member of the performance tracker could end up out of sync with the
current algo time as determined by the performance tracker.
The symptom was dividends never triggering, because the end of day
checks would not match the current time.
Fix by having the tradesimulation loop be responsible, in minute/minute
mode, for advancing the market close and passing that value to the
performance tracker, instead of having the market close advanced by the
performance tracker as well.</p></li>
<li><p>Fix numerous cumulative and period risk calculations.
The calculations that are expected to change are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cumulative.beta</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulative.alpha</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulative.information</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulative.sharpe</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period.sortino</span></code></p></li>
</ul>
<p>How Risk Calculations Are Changing
Risk Fixes for Both Period and Cumulative</p>
<p>Downside Risk</p>
<p>Use sample instead of population for standard deviation.</p>
<p>Add a rounding factor, so that if the two values are close for a given
dt, that they do not count as a downside value, which would throw off
the denominator of the standard deviation of the downside diffs.</p>
<p>Standard Deviation Type</p>
<p>Across the board the standard deviation has been standardized to using a
‘sample’ calculation, whereas before cumulative risk was mostly using
‘population’. Using <code class="docutils literal notranslate"><span class="pre">ddof=1</span></code> with <code class="docutils literal notranslate"><span class="pre">np.std</span></code> calculates as if the
values are a sample.</p>
<p>Cumulative Risk Fixes</p>
<p>Beta</p>
<p>Use the daily algorithm returns and benchmarks instead of annualized
mean returns.</p>
<p>Volatility</p>
<p>Use sample instead of population with standard deviation.</p>
<p>The volatility is an input to other calculations so this change affects
Sharpe and Information ratio calculations.</p>
<p>Information Ratio</p>
<p>The benchmark returns input is changed from annualized benchmark returns
to the annualized mean returns.</p>
<p>Alpha</p>
<p>The benchmark returns input is changed from annualized benchmark returns
to the annualized mean returns.</p>
<p>Period Risk Fixes</p>
<p>Sortino</p>
<p>Now uses the downside risk of the daily return vs. the mean algorithm
returns for the minimum acceptable return instead of the treasury
return.</p>
<p>The above required adding the calculation of the mean algorithm returns
for period risk.</p>
<p>Also, uses <code class="docutils literal notranslate"><span class="pre">algorithm_period_returns</span></code> and <code class="docutils literal notranslate"><span class="pre">tresaury_period_return</span></code>
as the cumulative Sortino does, instead of using algorithm returns for
both inputs into the Sortino calculation.</p>
</li>
</ul>
</section>
<section id="id95">
<h3>Performance<a class="headerlink" href="#id95" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">alias_dt</span></code> transform in favor of property on SIDData.
Adding a copy of the Event’s dt field as datetime via the <code class="docutils literal notranslate"><span class="pre">alias_dt</span></code>
generator, so that the API was forgiving and allowed both datetime and
dt on a SIDData object, was creating noticeable overhead, even on an
noop algorithms.
Instead of incurring the cost of copying the datetime value and
assigning it to the Event object on every event that is passed through
the system, add a property to SIDData which acts as an alias
<code class="docutils literal notranslate"><span class="pre">datetime</span></code> to <code class="docutils literal notranslate"><span class="pre">dt</span></code>.
Eventually support for <code class="docutils literal notranslate"><span class="pre">data['foo'].datetime</span></code> may be removed, and
could be considered deprecated.</p></li>
<li><p>Remove the drop of ‘null return’ from cumulative returns.
The check of existence of the null return key, and the drop of said
return on every single bar was adding unneeded CPU time when an
algorithm was run with minute emissions.
Instead, add the 0.0 return with an index of the trading day before the
start date.
The removal of the <code class="docutils literal notranslate"><span class="pre">null</span> <span class="pre">return</span></code> was mainly in place so that the
period calculation was not crashing on a non-date index value; with the
index as a date, the period return can also approximate volatility (even
though the that volatility has high noise-to-signal strength because it
uses only two values as an input.)</p></li>
</ul>
</section>
<section id="id96">
<h3>Maintenance and Refactorings<a class="headerlink" href="#id96" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">sim_params</span></code> to provide data frequency for the algorithm.
In the case that <code class="docutils literal notranslate"><span class="pre">data_frequency</span></code> of the algorithm is None, allow the
<code class="docutils literal notranslate"><span class="pre">sim_params</span></code> to provide the <code class="docutils literal notranslate"><span class="pre">data_frequency</span></code>.</p>
<p>Also, defer to the algorithms data frequency, if provided.</p>
</li>
</ul>
</section>
<section id="id97">
<h3>Build<a class="headerlink" href="#id97" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>Added support for building and releasing via conda
For those who prefer building with <a class="reference external" href="https://docs.conda.io/en/latest/">https://docs.conda.io/en/latest/</a> to compiling
locally with pip.
The following should install Zipline on many systems.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">quantopian</span> <span class="n">zipline</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id98">
<h3>Contributors<a class="headerlink" href="#id98" title="Permalink to this heading">#</a></h3>
<p>The following people have contributed to this release, ordered by
numbers of commit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">49</span>  <span class="n">Eddie</span> <span class="n">Hebert</span>
<span class="mi">28</span>  <span class="n">Thomas</span> <span class="n">Wiecki</span>
<span class="mi">11</span>  <span class="n">Richard</span> <span class="n">Frank</span>
 <span class="mi">2</span>  <span class="n">Jamie</span> <span class="n">Kirkpatrick</span>
 <span class="mi">2</span>  <span class="n">Jeremiah</span> <span class="n">Lowin</span>
 <span class="mi">1</span>  <span class="n">Colin</span> <span class="n">Alexander</span>
 <span class="mi">1</span>  <span class="n">Michael</span> <span class="n">Schatzow</span>
 <span class="mi">1</span>  <span class="n">Moises</span> <span class="n">Trovo</span>
 <span class="mi">1</span>  <span class="n">Suminda</span> <span class="n">Dharmasena</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="api-reference.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">API</p>
      </div>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-2-0-0rc">Release 2.0.0rc</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#highlights">Highlights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#enhancements">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maintenance-and-refactorings">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-4-1">Release 1.4.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Documentation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-4-0">Release 1.4.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Highlights</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#removed-implicit-dependency-on-benchmarks-and-treasury-returns">Removed Implicit Dependency on Benchmarks and Treasury Returns</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#new-built-in-factors">New Built In Factors</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#miscellaneous">Miscellaneous</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#international-pipelines">International Pipelines</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#datasetfamily">DataSetFamily</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-3-0">Release 1.3.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Highlights</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#support-for-newer-numpy-pandas-versions">Support for Newer Numpy/Pandas Versions</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#standalone-trading-calendars-module">Standalone <code class="docutils literal notranslate"><span class="pre">trading_calendars</span></code> Module</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-blotters">Custom Blotters</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-command-line-arguments">Custom Command-Line Arguments</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experimental-features">Experimental Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Build</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-2-0">Release 1.2.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Highlights</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#extensible-risk-and-performance-metrics-2081">Extensible Risk and Performance Metrics (2081)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#docs-trading-calendars-and-benchmarks">Docs, Trading Calendars, and Benchmarks</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Experimental Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">Documentation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">Miscellaneous</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-1-1">Release 1.1.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">Highlights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">Experimental Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">Documentation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">Miscellaneous</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-1-0">Release 1.1.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">Documentation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">Miscellaneous</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-0-2">Release 1.0.2</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experimental">Experimental</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">Documentation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#testing">Testing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-format-changes">Data Format Changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-0-1">Release 1.0.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">Documentation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-1-0-0">Release 1.0.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">Highlights</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#zipline-1-0-rewrite-1105">Zipline 1.0 Rewrite (1105)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#new-entry-points-1173-and-1178">New Entry Points (1173 and 1178)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-bundles-1173-and-1178">Data Bundles (1173 and 1178)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#string-support-in-pipeline-1174">String Support in Pipeline (1174)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">Experimental Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">Documentation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">Miscellaneous</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-0-9-0">Release 0.9.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">Highlights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id62">Experimental Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id63">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id64">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id65">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id66">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id67">Documentation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id68">Miscellaneous</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-0-8-4">Release 0.8.4</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id69">Highlights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id70">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id71">Experimental Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id72">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id73">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id74">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id75">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id76">Documentation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id77">Miscellaneous</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-0-8-3">Release 0.8.3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-0-8-0">Release 0.8.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id78">Highlights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id79">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id80">Experimental Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id81">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id82">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id83">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id84">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id85">Documentation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-0-7-0">Release 0.7.0</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id86">Highlights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id87">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id88">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id89">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id90">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id91">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contributors">Contributors</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-0-6-1">Release 0.6.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id92">Highlights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id93">Enhancements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id94">Bug Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id95">Performance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id96">Maintenance and Refactorings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id97">Build</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id98">Contributors</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/releases.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2020, Quantopian Inc..
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>
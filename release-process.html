
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Release Process &#8212; Zipline 3.0 docs</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'release-process';</script>
    <link rel="icon" href="_static/zipline.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">Zipline 3.0 docs</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="beginner-tutorial.html">
                        Tutorial
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="bundles.html">
                        Data
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="trading-calendars.html">
                        Calendars
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="risk-and-perf-metrics.html">
                        Metrics
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="development-guidelines.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api-reference.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="releases.html">
                        Releases
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://ml4trading.io">
                    ML for Trading
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://exchange.ml4trading.io">
                    Community
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/stefan-jansen/zipline-reloaded" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/ml4trading" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="beginner-tutorial.html">
                        Tutorial
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="bundles.html">
                        Data
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="trading-calendars.html">
                        Calendars
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="risk-and-perf-metrics.html">
                        Metrics
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="development-guidelines.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api-reference.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="releases.html">
                        Releases
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://ml4trading.io">
                    ML for Trading
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://exchange.ml4trading.io">
                    Community
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/stefan-jansen/zipline-reloaded" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/ml4trading" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Release Process</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="release-process">
<h1>Release Process<a class="headerlink" href="#release-process" title="Permalink to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is intended for developers of zipline.</p>
</div>
<section id="updating-the-release-notes">
<h2>Updating the Release Notes<a class="headerlink" href="#updating-the-release-notes" title="Permalink to this heading">#</a></h2>
<p>When we are ready to ship a new release of zipline, edit the <a class="reference internal" href="releases.html"><span class="doc">Releases</span></a>
page. We will have been maintaining a <code class="docutils literal notranslate"><span class="pre">whatsnew</span></code> file while working on the release
with the new version. First, find that file in:
<code class="docutils literal notranslate"><span class="pre">docs/source/whatsnew/&lt;version&gt;.txt</span></code>. It will be the highest version number.
Edit the release date field to be today’s date in the format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">month</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">day</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">year</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>for example, November 6, 2015.
Remove the active development warning from the <code class="docutils literal notranslate"><span class="pre">whatsnew</span></code>, since it will no
longer be pending release.
Update the title of the release from “Development” to “Release x.x.x” and
update the underline of the title to match the title’s width.</p>
<p>If you are renaming the release at this point, you’ll need to git mv the file
and also update releases.rst to reference the renamed file.</p>
<p>To build and view the docs locally, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>docs
$<span class="w"> </span>make<span class="w"> </span>html
$<span class="w"> </span><span class="o">{</span>BROWSER<span class="o">}</span><span class="w"> </span>build/html/index.html
</pre></div>
</div>
</section>
<section id="updating-the-python-stub-files">
<h2>Updating the Python stub files<a class="headerlink" href="#updating-the-python-stub-files" title="Permalink to this heading">#</a></h2>
<p>PyCharm and other linters and type checkers can use <a class="reference external" href="https://www.python.org/dev/peps/pep-0484/#stub-files">Python stub files</a> for type hinting. For
example, we generate stub files for the <code class="xref py py-mod docutils literal notranslate"><span class="pre">api</span></code> namespace, since that
namespace is populated at import time by decorators on TradingAlgorithm
methods. Those functions are therefore hidden from static analysis tools, but
we can generate static files to make them available. Under <strong>Python 3</strong>, run
the following to generate any stub files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>etc/gen_type_stubs.py
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to make stub consumers aware of the classes referred to in the
stub, the stub file should import those classes.  However, since
<code class="docutils literal notranslate"><span class="pre">...</span> <span class="pre">import</span> <span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span> <span class="pre">import</span> <span class="pre">...</span> <span class="pre">as</span> <span class="pre">...</span></code> in a stub file will export
those imports, we import the names explicitly.  For the stub for
<code class="docutils literal notranslate"><span class="pre">zipline.api</span></code>, this is done in a header string in the
<code class="docutils literal notranslate"><span class="pre">gen_type_stubs.py</span></code> script mentioned above.  If new classes are added as
parameters or return types of <code class="docutils literal notranslate"><span class="pre">zipline.api</span></code> functions, then new imports
should be added to that header.</p>
</div>
</section>
<section id="updating-the-version">
<h2>Updating the <code class="docutils literal notranslate"><span class="pre">__version__</span></code><a class="headerlink" href="#updating-the-version" title="Permalink to this heading">#</a></h2>
<p>We use <a class="reference external" href="https://github.com/warner/python-versioneer">versioneer</a> to
manage the <code class="docutils literal notranslate"><span class="pre">__version__</span></code> and <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> version. This means that we pull
this information from our version control’s tags to ensure that they stay in
sync and to have very fine grained version strings for development installs.</p>
<p>To upgrade the version use the git tag command like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>tag<span class="w"> </span>&lt;major&gt;.&lt;minor&gt;.&lt;micro&gt;
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--tags
</pre></div>
</div>
<p>This will push the the code and the tag information.</p>
<p>Next, click the “Draft a new release” button on the <a class="reference external" href="https://github.com/quantopian/zipline/releases">zipline releases page</a>.  For the new release,
choose the tag you just pushed, and publish the release.</p>
</section>
<section id="uploading-pypi-packages">
<h2>Uploading PyPI packages<a class="headerlink" href="#uploading-pypi-packages" title="Permalink to this heading">#</a></h2>
<section id="sdist">
<h3><code class="docutils literal notranslate"><span class="pre">sdist</span></code><a class="headerlink" href="#sdist" title="Permalink to this heading">#</a></h3>
<p>To build the <code class="docutils literal notranslate"><span class="pre">sdist</span></code> (source distribution) run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>setup.py<span class="w"> </span>sdist
</pre></div>
</div>
<p>from the zipline root. This will create a gzipped tarball that includes all the
python, cython, and miscellaneous files needed to install zipline. To test that
the source dist worked correctly, <code class="docutils literal notranslate"><span class="pre">cd</span></code> into an empty directory, create a new
virtualenv and then run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>&lt;zipline-root&gt;/dist/zipline-&lt;major&gt;.&lt;minor&gt;.&lt;micro&gt;.tar.gz
$<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;import zipline;print(zipline.__version__)&#39;</span>
</pre></div>
</div>
<p>This should print the version we are expecting to release.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is very important to both <code class="docutils literal notranslate"><span class="pre">cd</span></code> into a clean directory and make a clean
virtualenv. Changing directories ensures that we have included all the needed
files in the manifest. Using a clean virtualenv ensures that we have listed
all the required packages.</p>
</div>
<p>Now that we have tested the package locally, it should be tested using the test
PyPI server.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>twine
$<span class="w"> </span>twine<span class="w"> </span>upload<span class="w"> </span>--repository-url<span class="w"> </span>https://test.pypi.org/legacy/<span class="w"> </span>dist/zipline-&lt;version-number&gt;.tar.gz
</pre></div>
</div>
<p>Twine will prompt you for a username and password, which you should have access
to if you’re authorized to push Zipline releases.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the package version has been taken: locally update your setup.py to
override the version with a new number. Do not use the next version, just
append a <code class="docutils literal notranslate"><span class="pre">.&lt;nano&gt;</span></code> section to the current version. PyPI prevents the same
package version from appearing twice, so we need to work around this when
debugging packaging problems on the test server.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not commit the temporary version change.</p>
</div>
</div>
<p>This will upload zipline to the pypi test server. To test installing from pypi,
create a new virtualenv, <code class="docutils literal notranslate"><span class="pre">cd</span></code> into a clean directory and then run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--extra-index-url<span class="w"> </span>https://test.pypi.org/simple<span class="w"> </span>zipline
$<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;import zipline;print(zipline.__version__)&#39;</span>
</pre></div>
</div>
<p>This should pull the package you just uploaded and then print the version
number.</p>
<p>Now that we have tested locally and on PyPI test, it is time to upload to PyPI:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>twine<span class="w"> </span>upload<span class="w"> </span>dist/zipline-&lt;version-number&gt;.tar.gz
</pre></div>
</div>
</section>
<section id="bdist">
<h3><code class="docutils literal notranslate"><span class="pre">bdist</span></code><a class="headerlink" href="#bdist" title="Permalink to this heading">#</a></h3>
<p>Because zipline now supports multiple versions of numpy, we’re not building
binary wheels, since they are not tagged with the version of numpy with which
they were compiled.</p>
</section>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">#</a></h2>
<p>To update <a class="reference external" href="https://www.zipline.io">zipline.io</a>, checkout the
latest master and run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">&lt;</span><span class="n">zipline_root</span><span class="o">&gt;/</span><span class="n">docs</span><span class="o">/</span><span class="n">deploy</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This will build the documentation, checkout a fresh copy of the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code>
git branch, and copy the built docs into the zipline root.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The docs should always be built with <strong>Python 3</strong>. Many of our api functions
are wrapped by preprocessing functions which accept *args and **kwargs. In
Python 3, sphinx will respect the <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> attribute and display the
correct arguments.</p>
</div>
<p>Now, using our browser of choice, view the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> page and verify that
the docs look correct.</p>
<p>Once we are happy, push the updated docs to the GitHub <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>.
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;DOC: update zipline.io&quot;</span>
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>gh-pages
</pre></div>
</div>
<p><a class="reference external" href="https://www.zipline.io">zipline.io</a> will update in a few moments.</p>
</section>
<section id="uploading-conda-packages">
<h2>Uploading conda packages<a class="headerlink" href="#uploading-conda-packages" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://travis-ci.org/quantopian/zipline">Travis</a> and
<a class="reference external" href="https://ci.appveyor.com/project/quantopian/zipline/branch/master">AppVeyor</a>
build zipline conda packages for us (for Linux/OSX and Windows respectively).
Once they have built and uploaded to anaconda.org the zipline packages for the
release commit to master, we should move those packages from the “ci” label to
the “main” label. We should also do this for any packages we uploaded for
zipline’s dependencies. You can do this from the
<a class="reference external" href="https://anaconda.org/Quantopian/repo">anaconda.org web interface</a>.
This is also a good time to remove all the old “ci” packages from anaconda.</p>
<p>To build the conda packages for zipline locally, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>etc/conda_build_matrix.py
</pre></div>
</div>
<p>If all of the builds succeed, then this will not print anything and exit with
<code class="docutils literal notranslate"><span class="pre">EXIT_SUCCESS</span></code>. If there are build issues, we must address them and decide
what to do.</p>
<p>Once all of the builds in the matrix pass, we can upload them to anaconda with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>etc/conda_build_matrix.py<span class="w"> </span>--upload
</pre></div>
</div>
<p>If you would like to test this command by uploading to a different user, this
may be specified with the <code class="docutils literal notranslate"><span class="pre">--user</span></code> flag.</p>
</section>
<section id="next-commit">
<h2>Next Commit<a class="headerlink" href="#next-commit" title="Permalink to this heading">#</a></h2>
<p>Push a new commit post-release that adds the <code class="docutils literal notranslate"><span class="pre">whatsnew</span></code> for the next release,
which should be titled according to a micro version increment. If that next
release turns out to be a major/minor version increment, the file can be
renamed when that’s decided. You can use <code class="docutils literal notranslate"><span class="pre">docs/source/whatsnew/skeleton.txt</span></code>
as a template for the new file.</p>
<p>Include the <code class="docutils literal notranslate"><span class="pre">whatsnew</span></code> file in <code class="docutils literal notranslate"><span class="pre">docs/source/releases.rst</span></code>. New releases should
appear at the top. The syntax for this is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">include</span><span class="p">::</span> <span class="n">whatsnew</span><span class="o">/&lt;</span><span class="n">version</span><span class="o">&gt;.</span><span class="n">txt</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#updating-the-release-notes">Updating the Release Notes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#updating-the-python-stub-files">Updating the Python stub files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#updating-the-version">Updating the <code class="docutils literal notranslate"><span class="pre">__version__</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uploading-pypi-packages">Uploading PyPI packages</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdist"><code class="docutils literal notranslate"><span class="pre">sdist</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bdist"><code class="docutils literal notranslate"><span class="pre">bdist</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uploading-conda-packages">Uploading conda packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-commit">Next Commit</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/release-process.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2020, Quantopian Inc..
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>